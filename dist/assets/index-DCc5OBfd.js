(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ff(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Oc={exports:{}},ki={},Pc={exports:{}},z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zr=Symbol.for("react.element"),pf=Symbol.for("react.portal"),mf=Symbol.for("react.fragment"),gf=Symbol.for("react.strict_mode"),yf=Symbol.for("react.profiler"),vf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),wf=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),kf=Symbol.for("react.memo"),Sf=Symbol.for("react.lazy"),Jl=Symbol.iterator;function Ef(e){return e===null||typeof e!="object"?null:(e=Jl&&e[Jl]||e["@@iterator"],typeof e=="function"?e:null)}var Rc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ac=Object.assign,Ic={};function Yn(e,t,n){this.props=e,this.context=t,this.refs=Ic,this.updater=n||Rc}Yn.prototype.isReactComponent={};Yn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Yn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $c(){}$c.prototype=Yn.prototype;function Ro(e,t,n){this.props=e,this.context=t,this.refs=Ic,this.updater=n||Rc}var Ao=Ro.prototype=new $c;Ao.constructor=Ro;Ac(Ao,Yn.prototype);Ao.isPureReactComponent=!0;var Ql=Array.isArray,Lc=Object.prototype.hasOwnProperty,Io={current:null},Uc={key:!0,ref:!0,__self:!0,__source:!0};function Dc(e,t,n){var r,s={},i=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(i=""+t.key),t)Lc.call(t,r)&&!Uc.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:Zr,type:e,key:i,ref:a,props:s,_owner:Io.current}}function bf(e,t){return{$$typeof:Zr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function $o(e){return typeof e=="object"&&e!==null&&e.$$typeof===Zr}function jf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Yl=/\/+/g;function qi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?jf(""+e.key):t.toString(36)}function Is(e,t,n,r,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(i){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Zr:case pf:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+qi(a,0):r,Ql(s)?(n="",e!=null&&(n=e.replace(Yl,"$&/")+"/"),Is(s,t,n,"",function(u){return u})):s!=null&&($o(s)&&(s=bf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Yl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Ql(e))for(var o=0;o<e.length;o++){i=e[o];var l=r+qi(i,o);a+=Is(i,t,n,l,s)}else if(l=Ef(e),typeof l=="function")for(e=l.call(e),o=0;!(i=e.next()).done;)i=i.value,l=r+qi(i,o++),a+=Is(i,t,n,l,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ls(e,t,n){if(e==null)return e;var r=[],s=0;return Is(e,r,"","",function(i){return t.call(n,i,s++)}),r}function Nf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ce={current:null},$s={transition:null},Tf={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:$s,ReactCurrentOwner:Io};function Mc(){throw Error("act(...) is not supported in production builds of React.")}z.Children={map:ls,forEach:function(e,t,n){ls(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!$o(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};z.Component=Yn;z.Fragment=mf;z.Profiler=yf;z.PureComponent=Ro;z.StrictMode=gf;z.Suspense=xf;z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tf;z.act=Mc;z.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Ac({},e.props),s=e.key,i=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,a=Io.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(l in t)Lc.call(t,l)&&!Uc.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&o!==void 0?o[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:Zr,type:e.type,key:s,ref:i,props:r,_owner:a}};z.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:vf,_context:e},e.Consumer=e};z.createElement=Dc;z.createFactory=function(e){var t=Dc.bind(null,e);return t.type=e,t};z.createRef=function(){return{current:null}};z.forwardRef=function(e){return{$$typeof:wf,render:e}};z.isValidElement=$o;z.lazy=function(e){return{$$typeof:Sf,_payload:{_status:-1,_result:e},_init:Nf}};z.memo=function(e,t){return{$$typeof:kf,type:e,compare:t===void 0?null:t}};z.startTransition=function(e){var t=$s.transition;$s.transition={};try{e()}finally{$s.transition=t}};z.unstable_act=Mc;z.useCallback=function(e,t){return Ce.current.useCallback(e,t)};z.useContext=function(e){return Ce.current.useContext(e)};z.useDebugValue=function(){};z.useDeferredValue=function(e){return Ce.current.useDeferredValue(e)};z.useEffect=function(e,t){return Ce.current.useEffect(e,t)};z.useId=function(){return Ce.current.useId()};z.useImperativeHandle=function(e,t,n){return Ce.current.useImperativeHandle(e,t,n)};z.useInsertionEffect=function(e,t){return Ce.current.useInsertionEffect(e,t)};z.useLayoutEffect=function(e,t){return Ce.current.useLayoutEffect(e,t)};z.useMemo=function(e,t){return Ce.current.useMemo(e,t)};z.useReducer=function(e,t,n){return Ce.current.useReducer(e,t,n)};z.useRef=function(e){return Ce.current.useRef(e)};z.useState=function(e){return Ce.current.useState(e)};z.useSyncExternalStore=function(e,t,n){return Ce.current.useSyncExternalStore(e,t,n)};z.useTransition=function(){return Ce.current.useTransition()};z.version="18.3.1";Pc.exports=z;var B=Pc.exports;const Cf=ff(B);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Of=B,Pf=Symbol.for("react.element"),Rf=Symbol.for("react.fragment"),Af=Object.prototype.hasOwnProperty,If=Of.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,$f={key:!0,ref:!0,__self:!0,__source:!0};function zc(e,t,n){var r,s={},i=null,a=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Af.call(t,r)&&!$f.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Pf,type:e,key:i,ref:a,props:s,_owner:If.current}}ki.Fragment=Rf;ki.jsx=zc;ki.jsxs=zc;Oc.exports=ki;var c=Oc.exports,ja={},Bc={exports:{}},Be={},Fc={exports:{}},Vc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,A){var L=E.length;E.push(A);e:for(;0<L;){var K=L-1>>>1,J=E[K];if(0<s(J,A))E[K]=A,E[L]=J,L=K;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var A=E[0],L=E.pop();if(L!==A){E[0]=L;e:for(var K=0,J=E.length,O=J>>>1;K<O;){var se=2*(K+1)-1,tr=E[se],ut=se+1,hn=E[ut];if(0>s(tr,L))ut<J&&0>s(hn,tr)?(E[K]=hn,E[ut]=L,K=ut):(E[K]=tr,E[se]=L,K=se);else if(ut<J&&0>s(hn,L))E[K]=hn,E[ut]=L,K=ut;else break e}}return A}function s(E,A){var L=E.sortIndex-A.sortIndex;return L!==0?L:E.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,d=3,y=!1,v=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(E){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=E)r(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(u)}}function w(E){if(_=!1,m(E),!v)if(n(l)!==null)v=!0,M(b);else{var A=n(u);A!==null&&P(w,A.startTime-E)}}function b(E,A){v=!1,_&&(_=!1,g(T),T=-1),y=!0;var L=d;try{for(m(A),f=n(l);f!==null&&(!(f.expirationTime>A)||E&&!$());){var K=f.callback;if(typeof K=="function"){f.callback=null,d=f.priorityLevel;var J=K(f.expirationTime<=A);A=e.unstable_now(),typeof J=="function"?f.callback=J:f===n(l)&&r(l),m(A)}else r(l);f=n(l)}if(f!==null)var O=!0;else{var se=n(u);se!==null&&P(w,se.startTime-A),O=!1}return O}finally{f=null,d=L,y=!1}}var S=!1,N=null,T=-1,C=5,k=-1;function $(){return!(e.unstable_now()-k<C)}function V(){if(N!==null){var E=e.unstable_now();k=E;var A=!0;try{A=N(!0,E)}finally{A?F():(S=!1,N=null)}}else S=!1}var F;if(typeof p=="function")F=function(){p(V)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,H=Q.port2;Q.port1.onmessage=V,F=function(){H.postMessage(null)}}else F=function(){x(V,0)};function M(E){N=E,S||(S=!0,F())}function P(E,A){T=x(function(){E(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){v||y||(v=!0,M(b))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(d){case 1:case 2:case 3:var A=3;break;default:A=d}var L=d;d=A;try{return E()}finally{d=L}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,A){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var L=d;d=E;try{return A()}finally{d=L}},e.unstable_scheduleCallback=function(E,A,L){var K=e.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?K+L:K):L=K,E){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=L+J,E={id:h++,callback:A,priorityLevel:E,startTime:L,expirationTime:J,sortIndex:-1},L>K?(E.sortIndex=L,t(u,E),n(l)===null&&E===n(u)&&(_?(g(T),T=-1):_=!0,P(w,L-K))):(E.sortIndex=J,t(l,E),v||y||(v=!0,M(b))),E},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(E){var A=d;return function(){var L=d;d=A;try{return E.apply(this,arguments)}finally{d=L}}}})(Vc);Fc.exports=Vc;var Lf=Fc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uf=B,ze=Lf;function j(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qc=new Set,Or={};function cn(e,t){Vn(e,t),Vn(e+"Capture",t)}function Vn(e,t){for(Or[e]=t,e=0;e<t.length;e++)qc.add(t[e])}var gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,Df=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Xl={},Zl={};function Mf(e){return Na.call(Zl,e)?!0:Na.call(Xl,e)?!1:Df.test(e)?Zl[e]=!0:(Xl[e]=!0,!1)}function zf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Bf(e,t,n,r){if(t===null||typeof t>"u"||zf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Oe(e,t,n,r,s,i,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=a}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ke[e]=new Oe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ke[t]=new Oe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ke[e]=new Oe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ke[e]=new Oe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ke[e]=new Oe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ke[e]=new Oe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ke[e]=new Oe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ke[e]=new Oe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ke[e]=new Oe(e,5,!1,e.toLowerCase(),null,!1,!1)});var Lo=/[\-:]([a-z])/g;function Uo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Lo,Uo);ke[t]=new Oe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Lo,Uo);ke[t]=new Oe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Lo,Uo);ke[t]=new Oe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ke[e]=new Oe(e,1,!1,e.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Oe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ke[e]=new Oe(e,1,!1,e.toLowerCase(),null,!0,!0)});function Do(e,t,n,r){var s=ke.hasOwnProperty(t)?ke[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Bf(t,n,s,r)&&(n=null),r||s===null?Mf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wt=Uf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,us=Symbol.for("react.element"),Sn=Symbol.for("react.portal"),En=Symbol.for("react.fragment"),Mo=Symbol.for("react.strict_mode"),Ta=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Hc=Symbol.for("react.context"),zo=Symbol.for("react.forward_ref"),Ca=Symbol.for("react.suspense"),Oa=Symbol.for("react.suspense_list"),Bo=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),Kc=Symbol.for("react.offscreen"),eu=Symbol.iterator;function nr(e){return e===null||typeof e!="object"?null:(e=eu&&e[eu]||e["@@iterator"],typeof e=="function"?e:null)}var oe=Object.assign,Wi;function hr(e){if(Wi===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Wi=t&&t[1]||""}return`
`+Wi+e}var Hi=!1;function Ki(e,t){if(!e||Hi)return"";Hi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),a=s.length-1,o=i.length-1;1<=a&&0<=o&&s[a]!==i[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==i[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==i[o]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=o);break}}}finally{Hi=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?hr(e):""}function Ff(e){switch(e.tag){case 5:return hr(e.type);case 16:return hr("Lazy");case 13:return hr("Suspense");case 19:return hr("SuspenseList");case 0:case 2:case 15:return e=Ki(e.type,!1),e;case 11:return e=Ki(e.type.render,!1),e;case 1:return e=Ki(e.type,!0),e;default:return""}}function Pa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case En:return"Fragment";case Sn:return"Portal";case Ta:return"Profiler";case Mo:return"StrictMode";case Ca:return"Suspense";case Oa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Hc:return(e.displayName||"Context")+".Consumer";case Wc:return(e._context.displayName||"Context")+".Provider";case zo:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bo:return t=e.displayName||null,t!==null?t:Pa(e.type)||"Memo";case St:t=e._payload,e=e._init;try{return Pa(e(t))}catch{}}return null}function Vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pa(t);case 8:return t===Mo?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Mt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qf(e){var t=Gc(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,i.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function cs(e){e._valueTracker||(e._valueTracker=qf(e))}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gc(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Gs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ra(e,t){var n=t.checked;return oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function tu(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Mt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Qc(e,t){t=t.checked,t!=null&&Do(e,"checked",t,!1)}function Aa(e,t){Qc(e,t);var n=Mt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ia(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ia(e,t.type,Mt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function nu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ia(e,t,n){(t!=="number"||Gs(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var fr=Array.isArray;function Ln(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Mt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $a(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(j(91));return oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ru(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(j(92));if(fr(n)){if(1<n.length)throw Error(j(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Mt(n)}}function Yc(e,t){var n=Mt(t.value),r=Mt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function su(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function La(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xc(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ds,Zc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ds=ds||document.createElement("div"),ds.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ds.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wf=["Webkit","ms","Moz","O"];Object.keys(vr).forEach(function(e){Wf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vr[t]=vr[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vr.hasOwnProperty(e)&&vr[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Hf=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ua(e,t){if(t){if(Hf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(j(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(j(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(j(61))}if(t.style!=null&&typeof t.style!="object")throw Error(j(62))}}function Da(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ma=null;function Fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var za=null,Un=null,Dn=null;function iu(e){if(e=ns(e)){if(typeof za!="function")throw Error(j(280));var t=e.stateNode;t&&(t=Ni(t),za(e.stateNode,e.type,t))}}function nd(e){Un?Dn?Dn.push(e):Dn=[e]:Un=e}function rd(){if(Un){var e=Un,t=Dn;if(Dn=Un=null,iu(e),t)for(e=0;e<t.length;e++)iu(t[e])}}function sd(e,t){return e(t)}function id(){}var Gi=!1;function ad(e,t,n){if(Gi)return e(t,n);Gi=!0;try{return sd(e,t,n)}finally{Gi=!1,(Un!==null||Dn!==null)&&(id(),rd())}}function Rr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ni(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(j(231,t,typeof n));return n}var Ba=!1;if(gt)try{var rr={};Object.defineProperty(rr,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",rr,rr),window.removeEventListener("test",rr,rr)}catch{Ba=!1}function Kf(e,t,n,r,s,i,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var _r=!1,Js=null,Qs=!1,Fa=null,Gf={onError:function(e){_r=!0,Js=e}};function Jf(e,t,n,r,s,i,a,o,l){_r=!1,Js=null,Kf.apply(Gf,arguments)}function Qf(e,t,n,r,s,i,a,o,l){if(Jf.apply(this,arguments),_r){if(_r){var u=Js;_r=!1,Js=null}else throw Error(j(198));Qs||(Qs=!0,Fa=u)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function od(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function au(e){if(dn(e)!==e)throw Error(j(188))}function Yf(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(j(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return au(s),e;if(i===r)return au(s),t;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var a=!1,o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a){for(o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?e:t}function ld(e){return e=Yf(e),e!==null?ud(e):null}function ud(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ud(e);if(t!==null)return t;e=e.sibling}return null}var cd=ze.unstable_scheduleCallback,ou=ze.unstable_cancelCallback,Xf=ze.unstable_shouldYield,Zf=ze.unstable_requestPaint,ce=ze.unstable_now,ep=ze.unstable_getCurrentPriorityLevel,Vo=ze.unstable_ImmediatePriority,dd=ze.unstable_UserBlockingPriority,Ys=ze.unstable_NormalPriority,tp=ze.unstable_LowPriority,hd=ze.unstable_IdlePriority,Si=null,ot=null;function np(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(Si,e,void 0,(e.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:ip,rp=Math.log,sp=Math.LN2;function ip(e){return e>>>=0,e===0?32:31-(rp(e)/sp|0)|0}var hs=64,fs=4194304;function pr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Xs(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,i=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~s;o!==0?r=pr(o):(i&=a,i!==0&&(r=pr(i)))}else a=n&~s,a!==0?r=pr(a):i!==0&&(r=pr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-tt(t),s=1<<n,r|=e[n],t&=~s;return r}function ap(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function op(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var a=31-tt(i),o=1<<a,l=s[a];l===-1?(!(o&n)||o&r)&&(s[a]=ap(o,t)):l<=t&&(e.expiredLanes|=o),i&=~o}}function Va(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=hs;return hs<<=1,!(hs&4194240)&&(hs=64),e}function Ji(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function es(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-tt(t),e[t]=n}function lp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-tt(n),i=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~i}}function qo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var G=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,Wo,gd,yd,vd,qa=!1,ps=[],Pt=null,Rt=null,At=null,Ar=new Map,Ir=new Map,jt=[],up="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lu(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Ar.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ir.delete(t.pointerId)}}function sr(e,t,n,r,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},t!==null&&(t=ns(t),t!==null&&Wo(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function cp(e,t,n,r,s){switch(t){case"focusin":return Pt=sr(Pt,e,t,n,r,s),!0;case"dragenter":return Rt=sr(Rt,e,t,n,r,s),!0;case"mouseover":return At=sr(At,e,t,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ar.set(i,sr(Ar.get(i)||null,e,t,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ir.set(i,sr(Ir.get(i)||null,e,t,n,r,s)),!0}return!1}function _d(e){var t=Yt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=od(n),t!==null){e.blockedOn=t,vd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ls(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Ma=r,n.target.dispatchEvent(r),Ma=null}else return t=ns(n),t!==null&&Wo(t),e.blockedOn=n,!1;t.shift()}return!0}function uu(e,t,n){Ls(e)&&n.delete(t)}function dp(){qa=!1,Pt!==null&&Ls(Pt)&&(Pt=null),Rt!==null&&Ls(Rt)&&(Rt=null),At!==null&&Ls(At)&&(At=null),Ar.forEach(uu),Ir.forEach(uu)}function ir(e,t){e.blockedOn===t&&(e.blockedOn=null,qa||(qa=!0,ze.unstable_scheduleCallback(ze.unstable_NormalPriority,dp)))}function $r(e){function t(s){return ir(s,e)}if(0<ps.length){ir(ps[0],e);for(var n=1;n<ps.length;n++){var r=ps[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Pt!==null&&ir(Pt,e),Rt!==null&&ir(Rt,e),At!==null&&ir(At,e),Ar.forEach(t),Ir.forEach(t),n=0;n<jt.length;n++)r=jt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jt.length&&(n=jt[0],n.blockedOn===null);)_d(n),n.blockedOn===null&&jt.shift()}var Mn=wt.ReactCurrentBatchConfig,Zs=!0;function hp(e,t,n,r){var s=G,i=Mn.transition;Mn.transition=null;try{G=1,Ho(e,t,n,r)}finally{G=s,Mn.transition=i}}function fp(e,t,n,r){var s=G,i=Mn.transition;Mn.transition=null;try{G=4,Ho(e,t,n,r)}finally{G=s,Mn.transition=i}}function Ho(e,t,n,r){if(Zs){var s=Wa(e,t,n,r);if(s===null)ia(e,t,r,ei,n),lu(e,r);else if(cp(s,e,t,n,r))r.stopPropagation();else if(lu(e,r),t&4&&-1<up.indexOf(e)){for(;s!==null;){var i=ns(s);if(i!==null&&md(i),i=Wa(e,t,n,r),i===null&&ia(e,t,r,ei,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ia(e,t,r,null,n)}}var ei=null;function Wa(e,t,n,r){if(ei=null,e=Fo(r),e=Yt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=od(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ei=e,null}function wd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ep()){case Vo:return 1;case dd:return 4;case Ys:case tp:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Ct=null,Ko=null,Us=null;function xd(){if(Us)return Us;var e,t=Ko,n=t.length,r,s="value"in Ct?Ct.value:Ct.textContent,i=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[i-r];r++);return Us=s.slice(e,1<r?1-r:void 0)}function Ds(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ms(){return!0}function cu(){return!1}function Fe(e){function t(n,r,s,i,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ms:cu,this.isPropagationStopped=cu,this}return oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ms)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ms)},persist:function(){},isPersistent:ms}),t}var Xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=Fe(Xn),ts=oe({},Xn,{view:0,detail:0}),pp=Fe(ts),Qi,Yi,ar,Ei=oe({},ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&e.type==="mousemove"?(Qi=e.screenX-ar.screenX,Yi=e.screenY-ar.screenY):Yi=Qi=0,ar=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:Yi}}),du=Fe(Ei),mp=oe({},Ei,{dataTransfer:0}),gp=Fe(mp),yp=oe({},ts,{relatedTarget:0}),Xi=Fe(yp),vp=oe({},Xn,{animationName:0,elapsedTime:0,pseudoElement:0}),_p=Fe(vp),wp=oe({},Xn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xp=Fe(wp),kp=oe({},Xn,{data:0}),hu=Fe(kp),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bp[e])?!!t[e]:!1}function Jo(){return jp}var Np=oe({},ts,{key:function(e){if(e.key){var t=Sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ds(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jo,charCode:function(e){return e.type==="keypress"?Ds(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ds(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tp=Fe(Np),Cp=oe({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),fu=Fe(Cp),Op=oe({},ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jo}),Pp=Fe(Op),Rp=oe({},Xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ap=Fe(Rp),Ip=oe({},Ei,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$p=Fe(Ip),Lp=[9,13,27,32],Qo=gt&&"CompositionEvent"in window,wr=null;gt&&"documentMode"in document&&(wr=document.documentMode);var Up=gt&&"TextEvent"in window&&!wr,kd=gt&&(!Qo||wr&&8<wr&&11>=wr),pu=" ",mu=!1;function Sd(e,t){switch(e){case"keyup":return Lp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ed(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var bn=!1;function Dp(e,t){switch(e){case"compositionend":return Ed(t);case"keypress":return t.which!==32?null:(mu=!0,pu);case"textInput":return e=t.data,e===pu&&mu?null:e;default:return null}}function Mp(e,t){if(bn)return e==="compositionend"||!Qo&&Sd(e,t)?(e=xd(),Us=Ko=Ct=null,bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return kd&&t.locale!=="ko"?null:t.data;default:return null}}var zp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!zp[e.type]:t==="textarea"}function bd(e,t,n,r){nd(r),t=ti(t,"onChange"),0<t.length&&(n=new Go("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var xr=null,Lr=null;function Bp(e){Ld(e,0)}function bi(e){var t=Tn(e);if(Jc(t))return e}function Fp(e,t){if(e==="change")return t}var jd=!1;if(gt){var Zi;if(gt){var ea="oninput"in document;if(!ea){var yu=document.createElement("div");yu.setAttribute("oninput","return;"),ea=typeof yu.oninput=="function"}Zi=ea}else Zi=!1;jd=Zi&&(!document.documentMode||9<document.documentMode)}function vu(){xr&&(xr.detachEvent("onpropertychange",Nd),Lr=xr=null)}function Nd(e){if(e.propertyName==="value"&&bi(Lr)){var t=[];bd(t,Lr,e,Fo(e)),ad(Bp,t)}}function Vp(e,t,n){e==="focusin"?(vu(),xr=t,Lr=n,xr.attachEvent("onpropertychange",Nd)):e==="focusout"&&vu()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Lr)}function Wp(e,t){if(e==="click")return bi(t)}function Hp(e,t){if(e==="input"||e==="change")return bi(t)}function Kp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var rt=typeof Object.is=="function"?Object.is:Kp;function Ur(e,t){if(rt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Na.call(t,s)||!rt(e[s],t[s]))return!1}return!0}function _u(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wu(e,t){var n=_u(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_u(n)}}function Td(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Td(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Cd(){for(var e=window,t=Gs();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Gs(e.document)}return t}function Yo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gp(e){var t=Cd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Td(n.ownerDocument.documentElement,n)){if(r!==null&&Yo(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!e.extend&&i>r&&(s=r,r=i,i=s),s=wu(n,i);var a=wu(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Jp=gt&&"documentMode"in document&&11>=document.documentMode,jn=null,Ha=null,kr=null,Ka=!1;function xu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ka||jn==null||jn!==Gs(r)||(r=jn,"selectionStart"in r&&Yo(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),kr&&Ur(kr,r)||(kr=r,r=ti(Ha,"onSelect"),0<r.length&&(t=new Go("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=jn)))}function gs(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Nn={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionend:gs("Transition","TransitionEnd")},ta={},Od={};gt&&(Od=document.createElement("div").style,"AnimationEvent"in window||(delete Nn.animationend.animation,delete Nn.animationiteration.animation,delete Nn.animationstart.animation),"TransitionEvent"in window||delete Nn.transitionend.transition);function ji(e){if(ta[e])return ta[e];if(!Nn[e])return e;var t=Nn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Od)return ta[e]=t[n];return e}var Pd=ji("animationend"),Rd=ji("animationiteration"),Ad=ji("animationstart"),Id=ji("transitionend"),$d=new Map,ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){$d.set(e,t),cn(t,[e])}for(var na=0;na<ku.length;na++){var ra=ku[na],Qp=ra.toLowerCase(),Yp=ra[0].toUpperCase()+ra.slice(1);Bt(Qp,"on"+Yp)}Bt(Pd,"onAnimationEnd");Bt(Rd,"onAnimationIteration");Bt(Ad,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Id,"onTransitionEnd");Vn("onMouseEnter",["mouseout","mouseover"]);Vn("onMouseLeave",["mouseout","mouseover"]);Vn("onPointerEnter",["pointerout","pointerover"]);Vn("onPointerLeave",["pointerout","pointerover"]);cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cn("onBeforeInput",["compositionend","keypress","textInput","paste"]);cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xp=new Set("cancel close invalid load scroll toggle".split(" ").concat(mr));function Su(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Qf(r,t,void 0,e),e.currentTarget=null}function Ld(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==i&&s.isPropagationStopped())break e;Su(s,o,u),i=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==i&&s.isPropagationStopped())break e;Su(s,o,u),i=l}}}if(Qs)throw e=Fa,Qs=!1,Fa=null,e}function Z(e,t){var n=t[Xa];n===void 0&&(n=t[Xa]=new Set);var r=e+"__bubble";n.has(r)||(Ud(t,e,2,!1),n.add(r))}function sa(e,t,n){var r=0;t&&(r|=4),Ud(n,e,r,t)}var ys="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[ys]){e[ys]=!0,qc.forEach(function(n){n!=="selectionchange"&&(Xp.has(n)||sa(n,!1,e),sa(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ys]||(t[ys]=!0,sa("selectionchange",!1,t))}}function Ud(e,t,n,r){switch(wd(t)){case 1:var s=hp;break;case 4:s=fp;break;default:s=Ho}n=s.bind(null,t,n,e),s=void 0,!Ba||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function ia(e,t,n,r,s){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Yt(o),a===null)return;if(l=a.tag,l===5||l===6){r=i=a;continue e}o=o.parentNode}}r=r.return}ad(function(){var u=i,h=Fo(n),f=[];e:{var d=$d.get(e);if(d!==void 0){var y=Go,v=e;switch(e){case"keypress":if(Ds(n)===0)break e;case"keydown":case"keyup":y=Tp;break;case"focusin":v="focus",y=Xi;break;case"focusout":v="blur",y=Xi;break;case"beforeblur":case"afterblur":y=Xi;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=du;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=gp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Pp;break;case Pd:case Rd:case Ad:y=_p;break;case Id:y=Ap;break;case"scroll":y=pp;break;case"wheel":y=$p;break;case"copy":case"cut":case"paste":y=xp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=fu}var _=(t&4)!==0,x=!_&&e==="scroll",g=_?d!==null?d+"Capture":null:d;_=[];for(var p=u,m;p!==null;){m=p;var w=m.stateNode;if(m.tag===5&&w!==null&&(m=w,g!==null&&(w=Rr(p,g),w!=null&&_.push(Mr(p,w,m)))),x)break;p=p.return}0<_.length&&(d=new y(d,v,null,n,h),f.push({event:d,listeners:_}))}}if(!(t&7)){e:{if(d=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",d&&n!==Ma&&(v=n.relatedTarget||n.fromElement)&&(Yt(v)||v[yt]))break e;if((y||d)&&(d=h.window===h?h:(d=h.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=u,v=v?Yt(v):null,v!==null&&(x=dn(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(_=du,w="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=fu,w="onPointerLeave",g="onPointerEnter",p="pointer"),x=y==null?d:Tn(y),m=v==null?d:Tn(v),d=new _(w,p+"leave",y,n,h),d.target=x,d.relatedTarget=m,w=null,Yt(h)===u&&(_=new _(g,p+"enter",v,n,h),_.target=m,_.relatedTarget=x,w=_),x=w,y&&v)t:{for(_=y,g=v,p=0,m=_;m;m=fn(m))p++;for(m=0,w=g;w;w=fn(w))m++;for(;0<p-m;)_=fn(_),p--;for(;0<m-p;)g=fn(g),m--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=fn(_),g=fn(g)}_=null}else _=null;y!==null&&Eu(f,d,y,_,!1),v!==null&&x!==null&&Eu(f,x,v,_,!0)}}e:{if(d=u?Tn(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var b=Fp;else if(gu(d))if(jd)b=Hp;else{b=qp;var S=Vp}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=Wp);if(b&&(b=b(e,u))){bd(f,b,n,h);break e}S&&S(e,d,u),e==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Ia(d,"number",d.value)}switch(S=u?Tn(u):window,e){case"focusin":(gu(S)||S.contentEditable==="true")&&(jn=S,Ha=u,kr=null);break;case"focusout":kr=Ha=jn=null;break;case"mousedown":Ka=!0;break;case"contextmenu":case"mouseup":case"dragend":Ka=!1,xu(f,n,h);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":xu(f,n,h)}var N;if(Qo)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else bn?Sd(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(kd&&n.locale!=="ko"&&(bn||T!=="onCompositionStart"?T==="onCompositionEnd"&&bn&&(N=xd()):(Ct=h,Ko="value"in Ct?Ct.value:Ct.textContent,bn=!0)),S=ti(u,T),0<S.length&&(T=new hu(T,e,null,n,h),f.push({event:T,listeners:S}),N?T.data=N:(N=Ed(n),N!==null&&(T.data=N)))),(N=Up?Dp(e,n):Mp(e,n))&&(u=ti(u,"onBeforeInput"),0<u.length&&(h=new hu("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=N))}Ld(f,t)})}function Mr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ti(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Rr(e,n),i!=null&&r.unshift(Mr(e,i,s)),i=Rr(e,t),i!=null&&r.push(Mr(e,i,s))),e=e.return}return r}function fn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Eu(e,t,n,r,s){for(var i=t._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,u=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&u!==null&&(o=u,s?(l=Rr(n,i),l!=null&&a.unshift(Mr(n,l,o))):s||(l=Rr(n,i),l!=null&&a.push(Mr(n,l,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zp=/\r\n?/g,em=/\u0000|\uFFFD/g;function bu(e){return(typeof e=="string"?e:""+e).replace(Zp,`
`).replace(em,"")}function vs(e,t,n){if(t=bu(t),bu(e)!==t&&n)throw Error(j(425))}function ni(){}var Ga=null,Ja=null;function Qa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ya=typeof setTimeout=="function"?setTimeout:void 0,tm=typeof clearTimeout=="function"?clearTimeout:void 0,ju=typeof Promise=="function"?Promise:void 0,nm=typeof queueMicrotask=="function"?queueMicrotask:typeof ju<"u"?function(e){return ju.resolve(null).then(e).catch(rm)}:Ya;function rm(e){setTimeout(function(){throw e})}function aa(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),$r(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);$r(t)}function It(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Nu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Zn=Math.random().toString(36).slice(2),at="__reactFiber$"+Zn,zr="__reactProps$"+Zn,yt="__reactContainer$"+Zn,Xa="__reactEvents$"+Zn,sm="__reactListeners$"+Zn,im="__reactHandles$"+Zn;function Yt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[yt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Nu(e);e!==null;){if(n=e[at])return n;e=Nu(e)}return t}e=n,n=e.parentNode}return null}function ns(e){return e=e[at]||e[yt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Tn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(j(33))}function Ni(e){return e[zr]||null}var Za=[],Cn=-1;function Ft(e){return{current:e}}function ee(e){0>Cn||(e.current=Za[Cn],Za[Cn]=null,Cn--)}function X(e,t){Cn++,Za[Cn]=e.current,e.current=t}var zt={},je=Ft(zt),Ae=Ft(!1),sn=zt;function qn(e,t){var n=e.type.contextTypes;if(!n)return zt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ie(e){return e=e.childContextTypes,e!=null}function ri(){ee(Ae),ee(je)}function Tu(e,t,n){if(je.current!==zt)throw Error(j(168));X(je,t),X(Ae,n)}function Dd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(j(108,Vf(e)||"Unknown",s));return oe({},n,r)}function si(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,sn=je.current,X(je,e),X(Ae,Ae.current),!0}function Cu(e,t,n){var r=e.stateNode;if(!r)throw Error(j(169));n?(e=Dd(e,t,sn),r.__reactInternalMemoizedMergedChildContext=e,ee(Ae),ee(je),X(je,e)):ee(Ae),X(Ae,n)}var ht=null,Ti=!1,oa=!1;function Md(e){ht===null?ht=[e]:ht.push(e)}function am(e){Ti=!0,Md(e)}function Vt(){if(!oa&&ht!==null){oa=!0;var e=0,t=G;try{var n=ht;for(G=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ht=null,Ti=!1}catch(s){throw ht!==null&&(ht=ht.slice(e+1)),cd(Vo,Vt),s}finally{G=t,oa=!1}}return null}var On=[],Pn=0,ii=null,ai=0,Ve=[],qe=0,an=null,ft=1,pt="";function Ht(e,t){On[Pn++]=ai,On[Pn++]=ii,ii=e,ai=t}function zd(e,t,n){Ve[qe++]=ft,Ve[qe++]=pt,Ve[qe++]=an,an=e;var r=ft;e=pt;var s=32-tt(r)-1;r&=~(1<<s),n+=1;var i=32-tt(t)+s;if(30<i){var a=s-s%5;i=(r&(1<<a)-1).toString(32),r>>=a,s-=a,ft=1<<32-tt(t)+s|n<<s|r,pt=i+e}else ft=1<<i|n<<s|r,pt=e}function Xo(e){e.return!==null&&(Ht(e,1),zd(e,1,0))}function Zo(e){for(;e===ii;)ii=On[--Pn],On[Pn]=null,ai=On[--Pn],On[Pn]=null;for(;e===an;)an=Ve[--qe],Ve[qe]=null,pt=Ve[--qe],Ve[qe]=null,ft=Ve[--qe],Ve[qe]=null}var Me=null,De=null,re=!1,et=null;function Bd(e,t){var n=We(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Ou(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,De=It(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,De=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=an!==null?{id:ft,overflow:pt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=We(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Me=e,De=null,!0):!1;default:return!1}}function eo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function to(e){if(re){var t=De;if(t){var n=t;if(!Ou(e,t)){if(eo(e))throw Error(j(418));t=It(n.nextSibling);var r=Me;t&&Ou(e,t)?Bd(r,n):(e.flags=e.flags&-4097|2,re=!1,Me=e)}}else{if(eo(e))throw Error(j(418));e.flags=e.flags&-4097|2,re=!1,Me=e}}}function Pu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function _s(e){if(e!==Me)return!1;if(!re)return Pu(e),re=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qa(e.type,e.memoizedProps)),t&&(t=De)){if(eo(e))throw Fd(),Error(j(418));for(;t;)Bd(e,t),t=It(t.nextSibling)}if(Pu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(j(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){De=It(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}De=null}}else De=Me?It(e.stateNode.nextSibling):null;return!0}function Fd(){for(var e=De;e;)e=It(e.nextSibling)}function Wn(){De=Me=null,re=!1}function el(e){et===null?et=[e]:et.push(e)}var om=wt.ReactCurrentBatchConfig;function or(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,e));var s=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(a){var o=s.refs;a===null?delete o[i]:o[i]=a},t._stringRef=i,t)}if(typeof e!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,e))}return e}function ws(e,t){throw e=Object.prototype.toString.call(t),Error(j(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ru(e){var t=e._init;return t(e._payload)}function Vd(e){function t(g,p){if(e){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Dt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,e?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,p,m,w){return p===null||p.tag!==6?(p=pa(m,g.mode,w),p.return=g,p):(p=s(p,m),p.return=g,p)}function l(g,p,m,w){var b=m.type;return b===En?h(g,p,m.props.children,w,m.key):p!==null&&(p.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===St&&Ru(b)===p.type)?(w=s(p,m.props),w.ref=or(g,p,m),w.return=g,w):(w=Ws(m.type,m.key,m.props,null,g.mode,w),w.ref=or(g,p,m),w.return=g,w)}function u(g,p,m,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=ma(m,g.mode,w),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function h(g,p,m,w,b){return p===null||p.tag!==7?(p=nn(m,g.mode,w,b),p.return=g,p):(p=s(p,m),p.return=g,p)}function f(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=pa(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case us:return m=Ws(p.type,p.key,p.props,null,g.mode,m),m.ref=or(g,null,p),m.return=g,m;case Sn:return p=ma(p,g.mode,m),p.return=g,p;case St:var w=p._init;return f(g,w(p._payload),m)}if(fr(p)||nr(p))return p=nn(p,g.mode,m,null),p.return=g,p;ws(g,p)}return null}function d(g,p,m,w){var b=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return b!==null?null:o(g,p,""+m,w);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case us:return m.key===b?l(g,p,m,w):null;case Sn:return m.key===b?u(g,p,m,w):null;case St:return b=m._init,d(g,p,b(m._payload),w)}if(fr(m)||nr(m))return b!==null?null:h(g,p,m,w,null);ws(g,m)}return null}function y(g,p,m,w,b){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(m)||null,o(p,g,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case us:return g=g.get(w.key===null?m:w.key)||null,l(p,g,w,b);case Sn:return g=g.get(w.key===null?m:w.key)||null,u(p,g,w,b);case St:var S=w._init;return y(g,p,m,S(w._payload),b)}if(fr(w)||nr(w))return g=g.get(m)||null,h(p,g,w,b,null);ws(p,w)}return null}function v(g,p,m,w){for(var b=null,S=null,N=p,T=p=0,C=null;N!==null&&T<m.length;T++){N.index>T?(C=N,N=null):C=N.sibling;var k=d(g,N,m[T],w);if(k===null){N===null&&(N=C);break}e&&N&&k.alternate===null&&t(g,N),p=i(k,p,T),S===null?b=k:S.sibling=k,S=k,N=C}if(T===m.length)return n(g,N),re&&Ht(g,T),b;if(N===null){for(;T<m.length;T++)N=f(g,m[T],w),N!==null&&(p=i(N,p,T),S===null?b=N:S.sibling=N,S=N);return re&&Ht(g,T),b}for(N=r(g,N);T<m.length;T++)C=y(N,g,T,m[T],w),C!==null&&(e&&C.alternate!==null&&N.delete(C.key===null?T:C.key),p=i(C,p,T),S===null?b=C:S.sibling=C,S=C);return e&&N.forEach(function($){return t(g,$)}),re&&Ht(g,T),b}function _(g,p,m,w){var b=nr(m);if(typeof b!="function")throw Error(j(150));if(m=b.call(m),m==null)throw Error(j(151));for(var S=b=null,N=p,T=p=0,C=null,k=m.next();N!==null&&!k.done;T++,k=m.next()){N.index>T?(C=N,N=null):C=N.sibling;var $=d(g,N,k.value,w);if($===null){N===null&&(N=C);break}e&&N&&$.alternate===null&&t(g,N),p=i($,p,T),S===null?b=$:S.sibling=$,S=$,N=C}if(k.done)return n(g,N),re&&Ht(g,T),b;if(N===null){for(;!k.done;T++,k=m.next())k=f(g,k.value,w),k!==null&&(p=i(k,p,T),S===null?b=k:S.sibling=k,S=k);return re&&Ht(g,T),b}for(N=r(g,N);!k.done;T++,k=m.next())k=y(N,g,T,k.value,w),k!==null&&(e&&k.alternate!==null&&N.delete(k.key===null?T:k.key),p=i(k,p,T),S===null?b=k:S.sibling=k,S=k);return e&&N.forEach(function(V){return t(g,V)}),re&&Ht(g,T),b}function x(g,p,m,w){if(typeof m=="object"&&m!==null&&m.type===En&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case us:e:{for(var b=m.key,S=p;S!==null;){if(S.key===b){if(b=m.type,b===En){if(S.tag===7){n(g,S.sibling),p=s(S,m.props.children),p.return=g,g=p;break e}}else if(S.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===St&&Ru(b)===S.type){n(g,S.sibling),p=s(S,m.props),p.ref=or(g,S,m),p.return=g,g=p;break e}n(g,S);break}else t(g,S);S=S.sibling}m.type===En?(p=nn(m.props.children,g.mode,w,m.key),p.return=g,g=p):(w=Ws(m.type,m.key,m.props,null,g.mode,w),w.ref=or(g,p,m),w.return=g,g=w)}return a(g);case Sn:e:{for(S=m.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=ma(m,g.mode,w),p.return=g,g=p}return a(g);case St:return S=m._init,x(g,p,S(m._payload),w)}if(fr(m))return v(g,p,m,w);if(nr(m))return _(g,p,m,w);ws(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=pa(m,g.mode,w),p.return=g,g=p),a(g)):n(g,p)}return x}var Hn=Vd(!0),qd=Vd(!1),oi=Ft(null),li=null,Rn=null,tl=null;function nl(){tl=Rn=li=null}function rl(e){var t=oi.current;ee(oi),e._currentValue=t}function no(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zn(e,t){li=e,tl=Rn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(tl!==e)if(e={context:e,memoizedValue:t,next:null},Rn===null){if(li===null)throw Error(j(308));Rn=e,li.dependencies={lanes:0,firstContext:e}}else Rn=Rn.next=e;return t}var Xt=null;function sl(e){Xt===null?Xt=[e]:Xt.push(e)}function Wd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,sl(t)):(n.next=s.next,s.next=n),t.interleaved=n,vt(e,r)}function vt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Et=!1;function il(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function mt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $t(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,vt(e,n)}return s=r.interleaved,s===null?(t.next=t,sl(r)):(t.next=s.next,s.next=t),r.interleaved=t,vt(e,n)}function Ms(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}function Au(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=a:i=i.next=a,n=n.next}while(n!==null);i===null?s=i=t:i=i.next=t}else s=i=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ui(e,t,n,r){var s=e.updateQueue;Et=!1;var i=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?i=u:a.next=u,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=u:o.next=u,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;a=0,h=u=l=null,o=i;do{var d=o.lane,y=o.eventTime;if((r&d)===d){h!==null&&(h=h.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=e,_=o;switch(d=t,y=n,_.tag){case 1:if(v=_.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=_.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=oe({},f,d);break e;case 2:Et=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,d=s.effects,d===null?s.effects=[o]:d.push(o))}else y={eventTime:y,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(u=h=y,l=f):h=h.next=y,a|=d;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;d=o,o=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ln|=a,e.lanes=a,e.memoizedState=f}}function Iu(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var rs={},lt=Ft(rs),Br=Ft(rs),Fr=Ft(rs);function Zt(e){if(e===rs)throw Error(j(174));return e}function al(e,t){switch(X(Fr,t),X(Br,e),X(lt,rs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:La(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=La(t,e)}ee(lt),X(lt,t)}function Kn(){ee(lt),ee(Br),ee(Fr)}function Kd(e){Zt(Fr.current);var t=Zt(lt.current),n=La(t,e.type);t!==n&&(X(Br,e),X(lt,n))}function ol(e){Br.current===e&&(ee(lt),ee(Br))}var ie=Ft(0);function ci(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function ll(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var zs=wt.ReactCurrentDispatcher,ua=wt.ReactCurrentBatchConfig,on=0,ae=null,pe=null,ge=null,di=!1,Sr=!1,Vr=0,lm=0;function Se(){throw Error(j(321))}function ul(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rt(e[n],t[n]))return!1;return!0}function cl(e,t,n,r,s,i){if(on=i,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,zs.current=e===null||e.memoizedState===null?hm:fm,e=n(r,s),Sr){i=0;do{if(Sr=!1,Vr=0,25<=i)throw Error(j(301));i+=1,ge=pe=null,t.updateQueue=null,zs.current=pm,e=n(r,s)}while(Sr)}if(zs.current=hi,t=pe!==null&&pe.next!==null,on=0,ge=pe=ae=null,di=!1,t)throw Error(j(300));return e}function dl(){var e=Vr!==0;return Vr=0,e}function it(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?ae.memoizedState=ge=e:ge=ge.next=e,ge}function Ge(){if(pe===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=pe.next;var t=ge===null?ae.memoizedState:ge.next;if(t!==null)ge=t,pe=e;else{if(e===null)throw Error(j(310));pe=e,e={memoizedState:pe.memoizedState,baseState:pe.baseState,baseQueue:pe.baseQueue,queue:pe.queue,next:null},ge===null?ae.memoizedState=ge=e:ge=ge.next=e}return ge}function qr(e,t){return typeof t=="function"?t(e):t}function ca(e){var t=Ge(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var a=s.next;s.next=i.next,i.next=a}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var o=a=null,l=null,u=i;do{var h=u.lane;if((on&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,ae.lanes|=h,ln|=h}u=u.next}while(u!==null&&u!==i);l===null?a=r:l.next=o,rt(r,t.memoizedState)||(Re=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do i=s.lane,ae.lanes|=i,ln|=i,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function da(e){var t=Ge(),n=t.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do i=e(i,a.action),a=a.next;while(a!==s);rt(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Gd(){}function Jd(e,t){var n=ae,r=Ge(),s=t(),i=!rt(r.memoizedState,s);if(i&&(r.memoizedState=s,Re=!0),r=r.queue,hl(Xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||ge!==null&&ge.memoizedState.tag&1){if(n.flags|=2048,Wr(9,Yd.bind(null,n,r,s,t),void 0,null),ye===null)throw Error(j(349));on&30||Qd(n,t,s)}return s}function Qd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yd(e,t,n,r){t.value=n,t.getSnapshot=r,Zd(t)&&eh(e)}function Xd(e,t,n){return n(function(){Zd(t)&&eh(e)})}function Zd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rt(e,n)}catch{return!0}}function eh(e){var t=vt(e,1);t!==null&&nt(t,e,1,-1)}function $u(e){var t=it();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qr,lastRenderedState:e},t.queue=e,e=e.dispatch=dm.bind(null,ae,e),[t.memoizedState,e]}function Wr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ae.updateQueue,t===null?(t={lastEffect:null,stores:null},ae.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function th(){return Ge().memoizedState}function Bs(e,t,n,r){var s=it();ae.flags|=e,s.memoizedState=Wr(1|t,n,void 0,r===void 0?null:r)}function Ci(e,t,n,r){var s=Ge();r=r===void 0?null:r;var i=void 0;if(pe!==null){var a=pe.memoizedState;if(i=a.destroy,r!==null&&ul(r,a.deps)){s.memoizedState=Wr(t,n,i,r);return}}ae.flags|=e,s.memoizedState=Wr(1|t,n,i,r)}function Lu(e,t){return Bs(8390656,8,e,t)}function hl(e,t){return Ci(2048,8,e,t)}function nh(e,t){return Ci(4,2,e,t)}function rh(e,t){return Ci(4,4,e,t)}function sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ih(e,t,n){return n=n!=null?n.concat([e]):null,Ci(4,4,sh.bind(null,t,e),n)}function fl(){}function ah(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function oh(e,t){var n=Ge();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&ul(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lh(e,t,n){return on&21?(rt(n,t)||(n=fd(),ae.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function um(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var r=ua.transition;ua.transition={};try{e(!1),t()}finally{G=n,ua.transition=r}}function uh(){return Ge().memoizedState}function cm(e,t,n){var r=Ut(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ch(e))dh(t,n);else if(n=Wd(e,t,n,r),n!==null){var s=Te();nt(n,e,r,s),hh(n,t,r)}}function dm(e,t,n){var r=Ut(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ch(e))dh(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var a=t.lastRenderedState,o=i(a,n);if(s.hasEagerState=!0,s.eagerState=o,rt(o,a)){var l=t.interleaved;l===null?(s.next=s,sl(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Wd(e,t,s,r),n!==null&&(s=Te(),nt(n,e,r,s),hh(n,t,r))}}function ch(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function dh(e,t){Sr=di=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,qo(e,n)}}var hi={readContext:Ke,useCallback:Se,useContext:Se,useEffect:Se,useImperativeHandle:Se,useInsertionEffect:Se,useLayoutEffect:Se,useMemo:Se,useReducer:Se,useRef:Se,useState:Se,useDebugValue:Se,useDeferredValue:Se,useTransition:Se,useMutableSource:Se,useSyncExternalStore:Se,useId:Se,unstable_isNewReconciler:!1},hm={readContext:Ke,useCallback:function(e,t){return it().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Lu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Bs(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Bs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Bs(4,2,e,t)},useMemo:function(e,t){var n=it();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=it();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=cm.bind(null,ae,e),[r.memoizedState,e]},useRef:function(e){var t=it();return e={current:e},t.memoizedState=e},useState:$u,useDebugValue:fl,useDeferredValue:function(e){return it().memoizedState=e},useTransition:function(){var e=$u(!1),t=e[0];return e=um.bind(null,e[1]),it().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ae,s=it();if(re){if(n===void 0)throw Error(j(407));n=n()}else{if(n=t(),ye===null)throw Error(j(349));on&30||Qd(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Lu(Xd.bind(null,r,i,e),[e]),r.flags|=2048,Wr(9,Yd.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=it(),t=ye.identifierPrefix;if(re){var n=pt,r=ft;n=(r&~(1<<32-tt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lm++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},fm={readContext:Ke,useCallback:ah,useContext:Ke,useEffect:hl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:oh,useReducer:ca,useRef:th,useState:function(){return ca(qr)},useDebugValue:fl,useDeferredValue:function(e){var t=Ge();return lh(t,pe.memoizedState,e)},useTransition:function(){var e=ca(qr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:uh,unstable_isNewReconciler:!1},pm={readContext:Ke,useCallback:ah,useContext:Ke,useEffect:hl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:oh,useReducer:da,useRef:th,useState:function(){return da(qr)},useDebugValue:fl,useDeferredValue:function(e){var t=Ge();return pe===null?t.memoizedState=e:lh(t,pe.memoizedState,e)},useTransition:function(){var e=da(qr)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Jd,useId:uh,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Oi={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Ut(e),i=mt(r,s);i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,s),t!==null&&(nt(t,e,s,r),Ms(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Te(),s=Ut(e),i=mt(r,s);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=$t(e,i,s),t!==null&&(nt(t,e,s,r),Ms(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Te(),r=Ut(e),s=mt(n,r);s.tag=2,t!=null&&(s.callback=t),t=$t(e,s,r),t!==null&&(nt(t,e,r,n),Ms(t,e,r))}};function Uu(e,t,n,r,s,i,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,a):t.prototype&&t.prototype.isPureReactComponent?!Ur(n,r)||!Ur(s,i):!0}function fh(e,t,n){var r=!1,s=zt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(s=Ie(t)?sn:je.current,r=t.contextTypes,i=(r=r!=null)?qn(e,s):zt),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Oi,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function Du(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Oi.enqueueReplaceState(t,t.state,null)}function so(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},il(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Ke(i):(i=Ie(t)?sn:je.current,s.context=qn(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ro(e,t,i,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Oi.enqueueReplaceState(s,s.state,null),ui(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Gn(e,t){try{var n="",r=t;do n+=Ff(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function io(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var mm=typeof WeakMap=="function"?WeakMap:Map;function ph(e,t,n){n=mt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){pi||(pi=!0,go=r),io(e,t)},n}function mh(e,t,n){n=mt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){io(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){io(e,t),typeof r!="function"&&(Lt===null?Lt=new Set([this]):Lt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Mu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new mm;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cm.bind(null,e,t,n),t.then(e,e))}function zu(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Bu(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=mt(-1,1),t.tag=2,$t(n,t,1))),n.lanes|=1),e)}var gm=wt.ReactCurrentOwner,Re=!1;function Ne(e,t,n,r){t.child=e===null?qd(t,null,n,r):Hn(t,e.child,n,r)}function Fu(e,t,n,r,s){n=n.render;var i=t.ref;return zn(t,s),r=cl(e,t,n,r,i,s),n=dl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(re&&n&&Xo(t),t.flags|=1,Ne(e,t,r,s),t.child)}function Vu(e,t,n,r,s){if(e===null){var i=n.type;return typeof i=="function"&&!xl(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,gh(e,t,i,r,s)):(e=Ws(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var a=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ur,n(a,r)&&e.ref===t.ref)return _t(e,t,s)}return t.flags|=1,e=Dt(i,r),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,r,s){if(e!==null){var i=e.memoizedProps;if(Ur(i,r)&&e.ref===t.ref)if(Re=!1,t.pendingProps=r=i,(e.lanes&s)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,_t(e,t,s)}return ao(e,t,n,r,s)}function yh(e,t,n){var r=t.pendingProps,s=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},X(In,Ue),Ue|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,X(In,Ue),Ue|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,X(In,Ue),Ue|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,X(In,Ue),Ue|=r;return Ne(e,t,s,n),t.child}function vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ao(e,t,n,r,s){var i=Ie(n)?sn:je.current;return i=qn(t,i),zn(t,s),n=cl(e,t,n,r,i,s),r=dl(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(re&&r&&Xo(t),t.flags|=1,Ne(e,t,n,s),t.child)}function qu(e,t,n,r,s){if(Ie(n)){var i=!0;si(t)}else i=!1;if(zn(t,s),t.stateNode===null)Fs(e,t),fh(t,n,r),so(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Ie(n)?sn:je.current,u=qn(t,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==u)&&Du(t,a,r,u),Et=!1;var d=t.memoizedState;a.state=d,ui(t,r,a,s),l=t.memoizedState,o!==r||d!==l||Ae.current||Et?(typeof h=="function"&&(ro(t,n,h,r),l=t.memoizedState),(o=Et||Uu(t,n,o,r,d,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=u,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Hd(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Ye(t.type,o),a.props=u,f=t.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ke(l):(l=Ie(n)?sn:je.current,l=qn(t,l));var y=n.getDerivedStateFromProps;(h=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&Du(t,a,r,l),Et=!1,d=t.memoizedState,a.state=d,ui(t,r,a,s);var v=t.memoizedState;o!==f||d!==v||Ae.current||Et?(typeof y=="function"&&(ro(t,n,y,r),v=t.memoizedState),(u=Et||Uu(t,n,u,r,d,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return oo(e,t,n,r,i,s)}function oo(e,t,n,r,s,i){vh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Cu(t,n,!1),_t(e,t,i);r=t.stateNode,gm.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=Hn(t,e.child,null,i),t.child=Hn(t,null,o,i)):Ne(e,t,o,i),t.memoizedState=r.state,s&&Cu(t,n,!0),t.child}function _h(e){var t=e.stateNode;t.pendingContext?Tu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tu(e,t.context,!1),al(e,t.containerInfo)}function Wu(e,t,n,r,s){return Wn(),el(s),t.flags|=256,Ne(e,t,n,r),t.child}var lo={dehydrated:null,treeContext:null,retryLane:0};function uo(e){return{baseLanes:e,cachePool:null,transitions:null}}function wh(e,t,n){var r=t.pendingProps,s=ie.current,i=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),X(ie,s&1),e===null)return to(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,i?(r=t.mode,i=t.child,a={mode:"hidden",children:a},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=a):i=Ai(a,r,0,null),e=nn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=uo(n),t.memoizedState=lo,e):pl(t,a));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return ym(e,t,a,r,o,s,n);if(i){i=r.fallback,a=t.mode,s=e.child,o=s.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Dt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?i=Dt(o,i):(i=nn(i,a,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,a=e.child.memoizedState,a=a===null?uo(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},i.memoizedState=a,i.childLanes=e.childLanes&~n,t.memoizedState=lo,r}return i=e.child,e=i.sibling,r=Dt(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function pl(e,t){return t=Ai({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function xs(e,t,n,r){return r!==null&&el(r),Hn(t,e.child,null,n),e=pl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ym(e,t,n,r,s,i,a){if(n)return t.flags&256?(t.flags&=-257,r=ha(Error(j(422))),xs(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Ai({mode:"visible",children:r.children},s,0,null),i=nn(i,s,a,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Hn(t,e.child,null,a),t.child.memoizedState=uo(a),t.memoizedState=lo,i);if(!(t.mode&1))return xs(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,i=Error(j(419)),r=ha(i,r,void 0),xs(e,t,a,r)}if(o=(a&e.childLanes)!==0,Re||o){if(r=ye,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,vt(e,s),nt(r,e,s,-1))}return wl(),r=ha(Error(j(421))),xs(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Om.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,De=It(s.nextSibling),Me=t,re=!0,et=null,e!==null&&(Ve[qe++]=ft,Ve[qe++]=pt,Ve[qe++]=an,ft=e.id,pt=e.overflow,an=t),t=pl(t,r.children),t.flags|=4096,t)}function Hu(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),no(e.return,t,n)}function fa(e,t,n,r,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xh(e,t,n){var r=t.pendingProps,s=r.revealOrder,i=r.tail;if(Ne(e,t,r.children,n),r=ie.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hu(e,n,t);else if(e.tag===19)Hu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(X(ie,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&ci(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),fa(t,!1,s,n,i);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ci(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}fa(t,!0,n,null,i);break;case"together":fa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(j(153));if(t.child!==null){for(e=t.child,n=Dt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Dt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vm(e,t,n){switch(t.tag){case 3:_h(t),Wn();break;case 5:Kd(t);break;case 1:Ie(t.type)&&si(t);break;case 4:al(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;X(oi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(X(ie,ie.current&1),t.flags|=128,null):n&t.child.childLanes?wh(e,t,n):(X(ie,ie.current&1),e=_t(e,t,n),e!==null?e.sibling:null);X(ie,ie.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return xh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),X(ie,ie.current),r)break;return null;case 22:case 23:return t.lanes=0,yh(e,t,n)}return _t(e,t,n)}var kh,co,Sh,Eh;kh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};co=function(){};Sh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Zt(lt.current);var i=null;switch(n){case"input":s=Ra(e,s),r=Ra(e,r),i=[];break;case"select":s=oe({},s,{value:void 0}),r=oe({},r,{value:void 0}),i=[];break;case"textarea":s=$a(e,s),r=$a(e,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ni)}Ua(n,r);var a;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var o=s[u];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Or.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(o=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Or.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",e),i||o===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Eh=function(e,t,n,r){n!==r&&(t.flags|=4)};function lr(e,t){if(!re)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ee(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function _m(e,t,n){var r=t.pendingProps;switch(Zo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(t),null;case 1:return Ie(t.type)&&ri(),Ee(t),null;case 3:return r=t.stateNode,Kn(),ee(Ae),ee(je),ll(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(_s(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,et!==null&&(_o(et),et=null))),co(e,t),Ee(t),null;case 5:ol(t);var s=Zt(Fr.current);if(n=t.type,e!==null&&t.stateNode!=null)Sh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(j(166));return Ee(t),null}if(e=Zt(lt.current),_s(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[at]=t,r[zr]=i,e=(t.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(s=0;s<mr.length;s++)Z(mr[s],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":tu(r,i),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Z("invalid",r);break;case"textarea":ru(r,i),Z("invalid",r)}Ua(n,i),s=null;for(var a in i)if(i.hasOwnProperty(a)){var o=i[a];a==="children"?typeof o=="string"?r.textContent!==o&&(i.suppressHydrationWarning!==!0&&vs(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(i.suppressHydrationWarning!==!0&&vs(r.textContent,o,e),s=["children",""+o]):Or.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Z("scroll",r)}switch(n){case"input":cs(r),nu(r,i,!0);break;case"textarea":cs(r),su(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ni)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xc(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[at]=t,e[zr]=r,kh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Da(n,r),n){case"dialog":Z("cancel",e),Z("close",e),s=r;break;case"iframe":case"object":case"embed":Z("load",e),s=r;break;case"video":case"audio":for(s=0;s<mr.length;s++)Z(mr[s],e);s=r;break;case"source":Z("error",e),s=r;break;case"img":case"image":case"link":Z("error",e),Z("load",e),s=r;break;case"details":Z("toggle",e),s=r;break;case"input":tu(e,r),s=Ra(e,r),Z("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=oe({},r,{value:void 0}),Z("invalid",e);break;case"textarea":ru(e,r),s=$a(e,r),Z("invalid",e);break;default:s=r}Ua(n,s),o=s;for(i in o)if(o.hasOwnProperty(i)){var l=o[i];i==="style"?td(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zc(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Pr(e,l):typeof l=="number"&&Pr(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Or.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",e):l!=null&&Do(e,i,l,a))}switch(n){case"input":cs(e),nu(e,r,!1);break;case"textarea":cs(e),su(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Mt(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Ln(e,!!r.multiple,i,!1):r.defaultValue!=null&&Ln(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ee(t),null;case 6:if(e&&t.stateNode!=null)Eh(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(j(166));if(n=Zt(Fr.current),Zt(lt.current),_s(t)){if(r=t.stateNode,n=t.memoizedProps,r[at]=t,(i=r.nodeValue!==n)&&(e=Me,e!==null))switch(e.tag){case 3:vs(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vs(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[at]=t,t.stateNode=r}return Ee(t),null;case 13:if(ee(ie),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(re&&De!==null&&t.mode&1&&!(t.flags&128))Fd(),Wn(),t.flags|=98560,i=!1;else if(i=_s(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(j(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[at]=t}else Wn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ee(t),i=!1}else et!==null&&(_o(et),et=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ie.current&1?me===0&&(me=3):wl())),t.updateQueue!==null&&(t.flags|=4),Ee(t),null);case 4:return Kn(),co(e,t),e===null&&Dr(t.stateNode.containerInfo),Ee(t),null;case 10:return rl(t.type._context),Ee(t),null;case 17:return Ie(t.type)&&ri(),Ee(t),null;case 19:if(ee(ie),i=t.memoizedState,i===null)return Ee(t),null;if(r=(t.flags&128)!==0,a=i.rendering,a===null)if(r)lr(i,!1);else{if(me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ci(e),a!==null){for(t.flags|=128,lr(i,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,a=i.alternate,a===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,e=a.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return X(ie,ie.current&1|2),t.child}e=e.sibling}i.tail!==null&&ce()>Jn&&(t.flags|=128,r=!0,lr(i,!1),t.lanes=4194304)}else{if(!r)if(e=ci(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!re)return Ee(t),null}else 2*ce()-i.renderingStartTime>Jn&&n!==1073741824&&(t.flags|=128,r=!0,lr(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(n=i.last,n!==null?n.sibling=a:t.child=a,i.last=a)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ce(),t.sibling=null,n=ie.current,X(ie,r?n&1|2:n&1),t):(Ee(t),null);case 22:case 23:return _l(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ue&1073741824&&(Ee(t),t.subtreeFlags&6&&(t.flags|=8192)):Ee(t),null;case 24:return null;case 25:return null}throw Error(j(156,t.tag))}function wm(e,t){switch(Zo(t),t.tag){case 1:return Ie(t.type)&&ri(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kn(),ee(Ae),ee(je),ll(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ol(t),null;case 13:if(ee(ie),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(j(340));Wn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ee(ie),null;case 4:return Kn(),null;case 10:return rl(t.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var ks=!1,be=!1,xm=typeof WeakSet=="function"?WeakSet:Set,R=null;function An(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ue(e,t,r)}else n.current=null}function ho(e,t,n){try{n()}catch(r){ue(e,t,r)}}var Ku=!1;function km(e,t){if(Ga=Zs,e=Cd(),Yo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,u=0,h=0,f=e,d=null;t:for(;;){for(var y;f!==n||s!==0&&f.nodeType!==3||(o=a+s),f!==i||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===e)break t;if(d===n&&++u===s&&(o=a),d===i&&++h===r&&(l=a),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ja={focusedElem:e,selectionRange:n},Zs=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var _=v.memoizedProps,x=v.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:Ye(t.type,_),x);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(w){ue(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=Ku,Ku=!1,v}function Er(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&ho(t,n,i)}s=s.next}while(s!==r)}}function Pi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function fo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bh(e){var t=e.alternate;t!==null&&(e.alternate=null,bh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[zr],delete t[Xa],delete t[sm],delete t[im])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function jh(e){return e.tag===5||e.tag===3||e.tag===4}function Gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||jh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function po(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ni));else if(r!==4&&(e=e.child,e!==null))for(po(e,t,n),e=e.sibling;e!==null;)po(e,t,n),e=e.sibling}function mo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(mo(e,t,n),e=e.sibling;e!==null;)mo(e,t,n),e=e.sibling}var we=null,Xe=!1;function kt(e,t,n){for(n=n.child;n!==null;)Nh(e,t,n),n=n.sibling}function Nh(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(Si,n)}catch{}switch(n.tag){case 5:be||An(n,t);case 6:var r=we,s=Xe;we=null,kt(e,t,n),we=r,Xe=s,we!==null&&(Xe?(e=we,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(Xe?(e=we,n=n.stateNode,e.nodeType===8?aa(e.parentNode,n):e.nodeType===1&&aa(e,n),$r(e)):aa(we,n.stateNode));break;case 4:r=we,s=Xe,we=n.stateNode.containerInfo,Xe=!0,kt(e,t,n),we=r,Xe=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,a=i.destroy;i=i.tag,a!==void 0&&(i&2||i&4)&&ho(n,t,a),s=s.next}while(s!==r)}kt(e,t,n);break;case 1:if(!be&&(An(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ue(n,t,o)}kt(e,t,n);break;case 21:kt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,kt(e,t,n),be=r):kt(e,t,n);break;default:kt(e,t,n)}}function Ju(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xm),t.forEach(function(r){var s=Pm.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Je(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:we=o.stateNode,Xe=!1;break e;case 3:we=o.stateNode.containerInfo,Xe=!0;break e;case 4:we=o.stateNode.containerInfo,Xe=!0;break e}o=o.return}if(we===null)throw Error(j(160));Nh(i,a,s),we=null,Xe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){ue(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Th(t,e),t=t.sibling}function Th(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),st(e),r&4){try{Er(3,e,e.return),Pi(3,e)}catch(_){ue(e,e.return,_)}try{Er(5,e,e.return)}catch(_){ue(e,e.return,_)}}break;case 1:Je(t,e),st(e),r&512&&n!==null&&An(n,n.return);break;case 5:if(Je(t,e),st(e),r&512&&n!==null&&An(n,n.return),e.flags&32){var s=e.stateNode;try{Pr(s,"")}catch(_){ue(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,a=n!==null?n.memoizedProps:i,o=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{o==="input"&&i.type==="radio"&&i.name!=null&&Qc(s,i),Da(o,a);var u=Da(o,i);for(a=0;a<l.length;a+=2){var h=l[a],f=l[a+1];h==="style"?td(s,f):h==="dangerouslySetInnerHTML"?Zc(s,f):h==="children"?Pr(s,f):Do(s,h,f,u)}switch(o){case"input":Aa(s,i);break;case"textarea":Yc(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Ln(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?Ln(s,!!i.multiple,i.defaultValue,!0):Ln(s,!!i.multiple,i.multiple?[]:"",!1))}s[zr]=i}catch(_){ue(e,e.return,_)}}break;case 6:if(Je(t,e),st(e),r&4){if(e.stateNode===null)throw Error(j(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(_){ue(e,e.return,_)}}break;case 3:if(Je(t,e),st(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{$r(t.containerInfo)}catch(_){ue(e,e.return,_)}break;case 4:Je(t,e),st(e);break;case 13:Je(t,e),st(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(yl=ce())),r&4&&Ju(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||h,Je(t,e),be=u):Je(t,e),st(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(R=e,h=e.child;h!==null;){for(f=R=h;R!==null;){switch(d=R,y=d.child,d.tag){case 0:case 11:case 14:case 15:Er(4,d,d.return);break;case 1:An(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(_){ue(r,n,_)}}break;case 5:An(d,d.return);break;case 22:if(d.memoizedState!==null){Yu(f);continue}}y!==null?(y.return=d,R=y):Yu(f)}h=h.sibling}e:for(h=null,f=e;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=ed("display",a))}catch(_){ue(e,e.return,_)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){ue(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Je(t,e),st(e),r&4&&Ju(e);break;case 21:break;default:Je(t,e),st(e)}}function st(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(jh(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Pr(s,""),r.flags&=-33);var i=Gu(e);mo(e,i,s);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Gu(e);po(e,o,a);break;default:throw Error(j(161))}}catch(l){ue(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sm(e,t,n){R=e,Ch(e)}function Ch(e,t,n){for(var r=(e.mode&1)!==0;R!==null;){var s=R,i=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||ks;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||be;o=ks;var u=be;if(ks=a,(be=l)&&!u)for(R=s;R!==null;)a=R,l=a.child,a.tag===22&&a.memoizedState!==null?Xu(s):l!==null?(l.return=a,R=l):Xu(s);for(;i!==null;)R=i,Ch(i),i=i.sibling;R=s,ks=o,be=u}Qu(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,R=i):Qu(e)}}function Qu(e){for(;R!==null;){var t=R;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Pi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Ye(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Iu(t,i,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Iu(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&$r(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}be||t.flags&512&&fo(t)}catch(d){ue(t,t.return,d)}}if(t===e){R=null;break}if(n=t.sibling,n!==null){n.return=t.return,R=n;break}R=t.return}}function Yu(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var n=t.sibling;if(n!==null){n.return=t.return,R=n;break}R=t.return}}function Xu(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Pi(4,t)}catch(l){ue(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){ue(t,s,l)}}var i=t.return;try{fo(t)}catch(l){ue(t,i,l)}break;case 5:var a=t.return;try{fo(t)}catch(l){ue(t,a,l)}}}catch(l){ue(t,t.return,l)}if(t===e){R=null;break}var o=t.sibling;if(o!==null){o.return=t.return,R=o;break}R=t.return}}var Em=Math.ceil,fi=wt.ReactCurrentDispatcher,ml=wt.ReactCurrentOwner,He=wt.ReactCurrentBatchConfig,W=0,ye=null,he=null,xe=0,Ue=0,In=Ft(0),me=0,Hr=null,ln=0,Ri=0,gl=0,br=null,Pe=null,yl=0,Jn=1/0,ct=null,pi=!1,go=null,Lt=null,Ss=!1,Ot=null,mi=0,jr=0,yo=null,Vs=-1,qs=0;function Te(){return W&6?ce():Vs!==-1?Vs:Vs=ce()}function Ut(e){return e.mode&1?W&2&&xe!==0?xe&-xe:om.transition!==null?(qs===0&&(qs=fd()),qs):(e=G,e!==0||(e=window.event,e=e===void 0?16:wd(e.type)),e):1}function nt(e,t,n,r){if(50<jr)throw jr=0,yo=null,Error(j(185));es(e,n,r),(!(W&2)||e!==ye)&&(e===ye&&(!(W&2)&&(Ri|=n),me===4&&Nt(e,xe)),$e(e,r),n===1&&W===0&&!(t.mode&1)&&(Jn=ce()+500,Ti&&Vt()))}function $e(e,t){var n=e.callbackNode;op(e,t);var r=Xs(e,e===ye?xe:0);if(r===0)n!==null&&ou(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ou(n),t===1)e.tag===0?am(Zu.bind(null,e)):Md(Zu.bind(null,e)),nm(function(){!(W&6)&&Vt()}),n=null;else{switch(pd(r)){case 1:n=Vo;break;case 4:n=dd;break;case 16:n=Ys;break;case 536870912:n=hd;break;default:n=Ys}n=Uh(n,Oh.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Oh(e,t){if(Vs=-1,qs=0,W&6)throw Error(j(327));var n=e.callbackNode;if(Bn()&&e.callbackNode!==n)return null;var r=Xs(e,e===ye?xe:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=gi(e,r);else{t=r;var s=W;W|=2;var i=Rh();(ye!==e||xe!==t)&&(ct=null,Jn=ce()+500,tn(e,t));do try{Nm();break}catch(o){Ph(e,o)}while(!0);nl(),fi.current=i,W=s,he!==null?t=0:(ye=null,xe=0,t=me)}if(t!==0){if(t===2&&(s=Va(e),s!==0&&(r=s,t=vo(e,s))),t===1)throw n=Hr,tn(e,0),Nt(e,r),$e(e,ce()),n;if(t===6)Nt(e,r);else{if(s=e.current.alternate,!(r&30)&&!bm(s)&&(t=gi(e,r),t===2&&(i=Va(e),i!==0&&(r=i,t=vo(e,i))),t===1))throw n=Hr,tn(e,0),Nt(e,r),$e(e,ce()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(j(345));case 2:Kt(e,Pe,ct);break;case 3:if(Nt(e,r),(r&130023424)===r&&(t=yl+500-ce(),10<t)){if(Xs(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Te(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ya(Kt.bind(null,e,Pe,ct),t);break}Kt(e,Pe,ct);break;case 4:if(Nt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-tt(r);i=1<<a,a=t[a],a>s&&(s=a),r&=~i}if(r=s,r=ce()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Em(r/1960))-r,10<r){e.timeoutHandle=Ya(Kt.bind(null,e,Pe,ct),r);break}Kt(e,Pe,ct);break;case 5:Kt(e,Pe,ct);break;default:throw Error(j(329))}}}return $e(e,ce()),e.callbackNode===n?Oh.bind(null,e):null}function vo(e,t){var n=br;return e.current.memoizedState.isDehydrated&&(tn(e,t).flags|=256),e=gi(e,t),e!==2&&(t=Pe,Pe=n,t!==null&&_o(t)),e}function _o(e){Pe===null?Pe=e:Pe.push.apply(Pe,e)}function bm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!rt(i(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Nt(e,t){for(t&=~gl,t&=~Ri,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tt(t),r=1<<n;e[n]=-1,t&=~r}}function Zu(e){if(W&6)throw Error(j(327));Bn();var t=Xs(e,0);if(!(t&1))return $e(e,ce()),null;var n=gi(e,t);if(e.tag!==0&&n===2){var r=Va(e);r!==0&&(t=r,n=vo(e,r))}if(n===1)throw n=Hr,tn(e,0),Nt(e,t),$e(e,ce()),n;if(n===6)throw Error(j(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Kt(e,Pe,ct),$e(e,ce()),null}function vl(e,t){var n=W;W|=1;try{return e(t)}finally{W=n,W===0&&(Jn=ce()+500,Ti&&Vt())}}function un(e){Ot!==null&&Ot.tag===0&&!(W&6)&&Bn();var t=W;W|=1;var n=He.transition,r=G;try{if(He.transition=null,G=1,e)return e()}finally{G=r,He.transition=n,W=t,!(W&6)&&Vt()}}function _l(){Ue=In.current,ee(In)}function tn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,tm(n)),he!==null)for(n=he.return;n!==null;){var r=n;switch(Zo(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:Kn(),ee(Ae),ee(je),ll();break;case 5:ol(r);break;case 4:Kn();break;case 13:ee(ie);break;case 19:ee(ie);break;case 10:rl(r.type._context);break;case 22:case 23:_l()}n=n.return}if(ye=e,he=e=Dt(e.current,null),xe=Ue=t,me=0,Hr=null,gl=Ri=ln=0,Pe=br=null,Xt!==null){for(t=0;t<Xt.length;t++)if(n=Xt[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var a=i.next;i.next=s,r.next=a}n.pending=r}Xt=null}return e}function Ph(e,t){do{var n=he;try{if(nl(),zs.current=hi,di){for(var r=ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}di=!1}if(on=0,ge=pe=ae=null,Sr=!1,Vr=0,ml.current=null,n===null||n.return===null){me=1,Hr=t,he=null;break}e:{var i=e,a=n.return,o=n,l=t;if(t=xe,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=o,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var y=zu(a);if(y!==null){y.flags&=-257,Bu(y,a,o,i,t),y.mode&1&&Mu(i,u,t),t=y,l=u;var v=t.updateQueue;if(v===null){var _=new Set;_.add(l),t.updateQueue=_}else v.add(l);break e}else{if(!(t&1)){Mu(i,u,t),wl();break e}l=Error(j(426))}}else if(re&&o.mode&1){var x=zu(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Bu(x,a,o,i,t),el(Gn(l,o));break e}}i=l=Gn(l,o),me!==4&&(me=2),br===null?br=[i]:br.push(i),i=a;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=ph(i,l,t);Au(i,g);break e;case 1:o=l;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Lt===null||!Lt.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var w=mh(i,o,t);Au(i,w);break e}}i=i.return}while(i!==null)}Ih(n)}catch(b){t=b,he===n&&n!==null&&(he=n=n.return);continue}break}while(!0)}function Rh(){var e=fi.current;return fi.current=hi,e===null?hi:e}function wl(){(me===0||me===3||me===2)&&(me=4),ye===null||!(ln&268435455)&&!(Ri&268435455)||Nt(ye,xe)}function gi(e,t){var n=W;W|=2;var r=Rh();(ye!==e||xe!==t)&&(ct=null,tn(e,t));do try{jm();break}catch(s){Ph(e,s)}while(!0);if(nl(),W=n,fi.current=r,he!==null)throw Error(j(261));return ye=null,xe=0,me}function jm(){for(;he!==null;)Ah(he)}function Nm(){for(;he!==null&&!Xf();)Ah(he)}function Ah(e){var t=Lh(e.alternate,e,Ue);e.memoizedProps=e.pendingProps,t===null?Ih(e):he=t,ml.current=null}function Ih(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=wm(n,t),n!==null){n.flags&=32767,he=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{me=6,he=null;return}}else if(n=_m(n,t,Ue),n!==null){he=n;return}if(t=t.sibling,t!==null){he=t;return}he=t=e}while(t!==null);me===0&&(me=5)}function Kt(e,t,n){var r=G,s=He.transition;try{He.transition=null,G=1,Tm(e,t,n,r)}finally{He.transition=s,G=r}return null}function Tm(e,t,n,r){do Bn();while(Ot!==null);if(W&6)throw Error(j(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(j(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(lp(e,i),e===ye&&(he=ye=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ss||(Ss=!0,Uh(Ys,function(){return Bn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=He.transition,He.transition=null;var a=G;G=1;var o=W;W|=4,ml.current=null,km(e,n),Th(n,e),Gp(Ja),Zs=!!Ga,Ja=Ga=null,e.current=n,Sm(n),Zf(),W=o,G=a,He.transition=i}else e.current=n;if(Ss&&(Ss=!1,Ot=e,mi=s),i=e.pendingLanes,i===0&&(Lt=null),np(n.stateNode),$e(e,ce()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,e=go,go=null,e;return mi&1&&e.tag!==0&&Bn(),i=e.pendingLanes,i&1?e===yo?jr++:(jr=0,yo=e):jr=0,Vt(),null}function Bn(){if(Ot!==null){var e=pd(mi),t=He.transition,n=G;try{if(He.transition=null,G=16>e?16:e,Ot===null)var r=!1;else{if(e=Ot,Ot=null,mi=0,W&6)throw Error(j(331));var s=W;for(W|=4,R=e.current;R!==null;){var i=R,a=i.child;if(R.flags&16){var o=i.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(R=u;R!==null;){var h=R;switch(h.tag){case 0:case 11:case 15:Er(8,h,i)}var f=h.child;if(f!==null)f.return=h,R=f;else for(;R!==null;){h=R;var d=h.sibling,y=h.return;if(bh(h),h===u){R=null;break}if(d!==null){d.return=y,R=d;break}R=y}}}var v=i.alternate;if(v!==null){var _=v.child;if(_!==null){v.child=null;do{var x=_.sibling;_.sibling=null,_=x}while(_!==null)}}R=i}}if(i.subtreeFlags&2064&&a!==null)a.return=i,R=a;else e:for(;R!==null;){if(i=R,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Er(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,R=g;break e}R=i.return}}var p=e.current;for(R=p;R!==null;){a=R;var m=a.child;if(a.subtreeFlags&2064&&m!==null)m.return=a,R=m;else e:for(a=p;R!==null;){if(o=R,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Pi(9,o)}}catch(b){ue(o,o.return,b)}if(o===a){R=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,R=w;break e}R=o.return}}if(W=s,Vt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(Si,e)}catch{}r=!0}return r}finally{G=n,He.transition=t}}return!1}function ec(e,t,n){t=Gn(n,t),t=ph(e,t,1),e=$t(e,t,1),t=Te(),e!==null&&(es(e,1,t),$e(e,t))}function ue(e,t,n){if(e.tag===3)ec(e,e,n);else for(;t!==null;){if(t.tag===3){ec(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Lt===null||!Lt.has(r))){e=Gn(n,e),e=mh(t,e,1),t=$t(t,e,1),e=Te(),t!==null&&(es(t,1,e),$e(t,e));break}}t=t.return}}function Cm(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Te(),e.pingedLanes|=e.suspendedLanes&n,ye===e&&(xe&n)===n&&(me===4||me===3&&(xe&130023424)===xe&&500>ce()-yl?tn(e,0):gl|=n),$e(e,t)}function $h(e,t){t===0&&(e.mode&1?(t=fs,fs<<=1,!(fs&130023424)&&(fs=4194304)):t=1);var n=Te();e=vt(e,t),e!==null&&(es(e,t,n),$e(e,n))}function Om(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),$h(e,n)}function Pm(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(t),$h(e,n)}var Lh;Lh=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ae.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,vm(e,t,n);Re=!!(e.flags&131072)}else Re=!1,re&&t.flags&1048576&&zd(t,ai,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Fs(e,t),e=t.pendingProps;var s=qn(t,je.current);zn(t,n),s=cl(null,t,r,e,s,n);var i=dl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ie(r)?(i=!0,si(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,il(t),s.updater=Oi,t.stateNode=s,s._reactInternals=t,so(t,r,e,n),t=oo(null,t,r,!0,i,n)):(t.tag=0,re&&i&&Xo(t),Ne(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Fs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Am(r),e=Ye(r,e),s){case 0:t=ao(null,t,r,e,n);break e;case 1:t=qu(null,t,r,e,n);break e;case 11:t=Fu(null,t,r,e,n);break e;case 14:t=Vu(null,t,r,Ye(r.type,e),n);break e}throw Error(j(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),ao(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),qu(e,t,r,s,n);case 3:e:{if(_h(t),e===null)throw Error(j(387));r=t.pendingProps,i=t.memoizedState,s=i.element,Hd(e,t),ui(t,r,null,n);var a=t.memoizedState;if(r=a.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Gn(Error(j(423)),t),t=Wu(e,t,r,n,s);break e}else if(r!==s){s=Gn(Error(j(424)),t),t=Wu(e,t,r,n,s);break e}else for(De=It(t.stateNode.containerInfo.firstChild),Me=t,re=!0,et=null,n=qd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wn(),r===s){t=_t(e,t,n);break e}Ne(e,t,r,n)}t=t.child}return t;case 5:return Kd(t),e===null&&to(t),r=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,a=s.children,Qa(r,s)?a=null:i!==null&&Qa(r,i)&&(t.flags|=32),vh(e,t),Ne(e,t,a,n),t.child;case 6:return e===null&&to(t),null;case 13:return wh(e,t,n);case 4:return al(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Hn(t,null,r,n):Ne(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),Fu(e,t,r,s,n);case 7:return Ne(e,t,t.pendingProps,n),t.child;case 8:return Ne(e,t,t.pendingProps.children,n),t.child;case 12:return Ne(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,a=s.value,X(oi,r._currentValue),r._currentValue=a,i!==null)if(rt(i.value,a)){if(i.children===s.children&&!Ae.current){t=_t(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var o=i.dependencies;if(o!==null){a=i.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=mt(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),no(i.return,n,t),o.lanes|=n;break}l=l.next}}else if(i.tag===10)a=i.type===t.type?null:i.child;else if(i.tag===18){if(a=i.return,a===null)throw Error(j(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),no(a,n,t),a=i.sibling}else a=i.child;if(a!==null)a.return=i;else for(a=i;a!==null;){if(a===t){a=null;break}if(i=a.sibling,i!==null){i.return=a.return,a=i;break}a=a.return}i=a}Ne(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,zn(t,n),s=Ke(s),r=r(s),t.flags|=1,Ne(e,t,r,n),t.child;case 14:return r=t.type,s=Ye(r,t.pendingProps),s=Ye(r.type,s),Vu(e,t,r,s,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Ye(r,s),Fs(e,t),t.tag=1,Ie(r)?(e=!0,si(t)):e=!1,zn(t,n),fh(t,r,s),so(t,r,s,n),oo(null,t,r,!0,e,n);case 19:return xh(e,t,n);case 22:return yh(e,t,n)}throw Error(j(156,t.tag))};function Uh(e,t){return cd(e,t)}function Rm(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function We(e,t,n,r){return new Rm(e,t,n,r)}function xl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Am(e){if(typeof e=="function")return xl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===zo)return 11;if(e===Bo)return 14}return 2}function Dt(e,t){var n=e.alternate;return n===null?(n=We(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ws(e,t,n,r,s,i){var a=2;if(r=e,typeof e=="function")xl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case En:return nn(n.children,s,i,t);case Mo:a=8,s|=8;break;case Ta:return e=We(12,n,t,s|2),e.elementType=Ta,e.lanes=i,e;case Ca:return e=We(13,n,t,s),e.elementType=Ca,e.lanes=i,e;case Oa:return e=We(19,n,t,s),e.elementType=Oa,e.lanes=i,e;case Kc:return Ai(n,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Wc:a=10;break e;case Hc:a=9;break e;case zo:a=11;break e;case Bo:a=14;break e;case St:a=16,r=null;break e}throw Error(j(130,e==null?e:typeof e,""))}return t=We(a,n,t,s),t.elementType=e,t.type=r,t.lanes=i,t}function nn(e,t,n,r){return e=We(7,e,r,t),e.lanes=n,e}function Ai(e,t,n,r){return e=We(22,e,r,t),e.elementType=Kc,e.lanes=n,e.stateNode={isHidden:!1},e}function pa(e,t,n){return e=We(6,e,null,t),e.lanes=n,e}function ma(e,t,n){return t=We(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Im(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ji(0),this.expirationTimes=Ji(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kl(e,t,n,r,s,i,a,o,l){return e=new Im(e,t,n,o,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=We(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},il(i),e}function $m(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Sn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dh(e){if(!e)return zt;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(j(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ie(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(j(171))}if(e.tag===1){var n=e.type;if(Ie(n))return Dd(e,n,t)}return t}function Mh(e,t,n,r,s,i,a,o,l){return e=kl(n,r,!0,e,s,i,a,o,l),e.context=Dh(null),n=e.current,r=Te(),s=Ut(n),i=mt(r,s),i.callback=t??null,$t(n,i,s),e.current.lanes=s,es(e,s,r),$e(e,r),e}function Ii(e,t,n,r){var s=t.current,i=Te(),a=Ut(s);return n=Dh(n),t.context===null?t.context=n:t.pendingContext=n,t=mt(i,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=$t(s,t,a),e!==null&&(nt(e,s,a,i),Ms(e,s,a)),a}function yi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function tc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Sl(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function Lm(){return null}var zh=typeof reportError=="function"?reportError:function(e){console.error(e)};function El(e){this._internalRoot=e}$i.prototype.render=El.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(j(409));Ii(e,t,null,null)};$i.prototype.unmount=El.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;un(function(){Ii(null,e,null,null)}),t[yt]=null}};function $i(e){this._internalRoot=e}$i.prototype.unstable_scheduleHydration=function(e){if(e){var t=yd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jt.length&&t!==0&&t<jt[n].priority;n++);jt.splice(n,0,e),n===0&&_d(e)}};function bl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Li(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nc(){}function Um(e,t,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=yi(a);i.call(u)}}var a=Mh(t,r,e,0,null,!1,!1,"",nc);return e._reactRootContainer=a,e[yt]=a.current,Dr(e.nodeType===8?e.parentNode:e),un(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var u=yi(l);o.call(u)}}var l=kl(e,0,!1,null,null,!1,!1,"",nc);return e._reactRootContainer=l,e[yt]=l.current,Dr(e.nodeType===8?e.parentNode:e),un(function(){Ii(t,l,n,r)}),l}function Ui(e,t,n,r,s){var i=n._reactRootContainer;if(i){var a=i;if(typeof s=="function"){var o=s;s=function(){var l=yi(a);o.call(l)}}Ii(t,a,e,s)}else a=Um(n,t,e,s,r);return yi(a)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=pr(t.pendingLanes);n!==0&&(qo(t,n|1),$e(t,ce()),!(W&6)&&(Jn=ce()+500,Vt()))}break;case 13:un(function(){var r=vt(e,1);if(r!==null){var s=Te();nt(r,e,1,s)}}),Sl(e,1)}};Wo=function(e){if(e.tag===13){var t=vt(e,134217728);if(t!==null){var n=Te();nt(t,e,134217728,n)}Sl(e,134217728)}};gd=function(e){if(e.tag===13){var t=Ut(e),n=vt(e,t);if(n!==null){var r=Te();nt(n,e,t,r)}Sl(e,t)}};yd=function(){return G};vd=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};za=function(e,t,n){switch(t){case"input":if(Aa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ni(r);if(!s)throw Error(j(90));Jc(r),Aa(r,s)}}}break;case"textarea":Yc(e,n);break;case"select":t=n.value,t!=null&&Ln(e,!!n.multiple,t,!1)}};sd=vl;id=un;var Dm={usingClientEntryPoint:!1,Events:[ns,Tn,Ni,nd,rd,vl]},ur={findFiberByHostInstance:Yt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Mm={bundleType:ur.bundleType,version:ur.version,rendererPackageName:ur.rendererPackageName,rendererConfig:ur.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:ur.findFiberByHostInstance||Lm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Es=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Es.isDisabled&&Es.supportsFiber)try{Si=Es.inject(Mm),ot=Es}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Dm;Be.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bl(t))throw Error(j(200));return $m(e,t,null,n)};Be.createRoot=function(e,t){if(!bl(e))throw Error(j(299));var n=!1,r="",s=zh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=kl(e,1,!1,null,null,n,!1,r,s),e[yt]=t.current,Dr(e.nodeType===8?e.parentNode:e),new El(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(j(188)):(e=Object.keys(e).join(","),Error(j(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return un(e)};Be.hydrate=function(e,t,n){if(!Li(t))throw Error(j(200));return Ui(null,e,t,!0,n)};Be.hydrateRoot=function(e,t,n){if(!bl(e))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",a=zh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mh(t,null,e,1,n??null,s,!1,i,a),e[yt]=t.current,Dr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new $i(t)};Be.render=function(e,t,n){if(!Li(t))throw Error(j(200));return Ui(null,e,t,!1,n)};Be.unmountComponentAtNode=function(e){if(!Li(e))throw Error(j(40));return e._reactRootContainer?(un(function(){Ui(null,null,e,!1,function(){e._reactRootContainer=null,e[yt]=null})}),!0):!1};Be.unstable_batchedUpdates=vl;Be.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Li(n))throw Error(j(200));if(e==null||e._reactInternals===void 0)throw Error(j(38));return Ui(e,t,n,!1,r)};Be.version="18.3.1-next-f1338f8080-20240426";function Bh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Bh)}catch(e){console.error(e)}}Bh(),Bc.exports=Be;var zm=Bc.exports,rc=zm;ja.createRoot=rc.createRoot,ja.hydrateRoot=rc.hydrateRoot;const Bm="modulepreload",Fm=function(e){return"/"+e},sc={},Nr=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(l=>{if(l=Fm(l),l in sc)return;sc[l]=!0;const u=l.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Bm,u||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((d,y)=>{f.addEventListener("load",d),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return t().catch(i)})};function Di(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Vm(e,t,n,r){function s(i){return i instanceof n?i:new n(function(a){a(i)})}return new(n||(n=Promise))(function(i,a){function o(h){try{u(r.next(h))}catch(f){a(f)}}function l(h){try{u(r.throw(h))}catch(f){a(f)}}function u(h){h.done?i(h.value):s(h.value).then(o,l)}u((r=r.apply(e,t||[])).next())})}const qm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class jl extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class Wm extends jl{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ic extends jl{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ac extends jl{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wo;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wo||(wo={}));class Hm{constructor(t,{headers:n={},customFetch:r,region:s=wo.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=qm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Vm(this,arguments,void 0,function*(n,r={}){var s;let i,a;try{const{headers:o,method:l,body:u,signal:h,timeout:f}=r;let d={},{region:y}=r;y||(y=this.region);const v=new URL(`${this.url}/${n}`);y&&y!=="any"&&(d["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let _;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(d["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(d["Content-Type"]="application/json",_=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?_=JSON.stringify(u):_=u;let x=h;f&&(a=new AbortController,i=setTimeout(()=>a.abort(),f),h?(x=a.signal,h.addEventListener("abort",()=>a.abort())):x=a.signal);const g=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:_,signal:x}).catch(b=>{throw new Wm(b)}),p=g.headers.get("x-relay-error");if(p&&p==="true")throw new ic(g);if(!g.ok)throw new ac(g);let m=((s=g.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield g.json():m==="application/octet-stream"||m==="application/pdf"?w=yield g.blob():m==="text/event-stream"?w=g:m==="multipart/form-data"?w=yield g.formData():w=yield g.text(),{data:w,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof ac||o instanceof ic?o.context:void 0}}finally{i&&clearTimeout(i)}})}}var Km=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Gm=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let a=null,o=null,l=null,u=i.status,h=i.statusText;if(i.ok){var f,d;if(n.method!=="HEAD"){var y;const g=await i.text();g===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((y=n.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?o=g:o=JSON.parse(g))}const _=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),x=(d=i.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&x&&x.length>1&&(l=parseInt(x[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,u=406,h="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var v;const _=await i.text();try{a=JSON.parse(_),Array.isArray(a)&&i.status===404&&(o=[],a=null,u=200,h="OK")}catch{i.status===404&&_===""?(u=204,h="No Content"):a={message:_}}if(a&&n.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&n.shouldThrowOnError)throw new Km(a)}return{error:a,data:o,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(i=>{var a;let o="";const l=i==null?void 0:i.cause;if(l){var u,h,f,d;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",_=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";o=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,o+=`

Caused by: ${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"Error"}: ${v}`,_&&(o+=` (${_})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var y;o=(y=i==null?void 0:i.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Jm=class extends Gm{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const i=s?`${s}.order`:"order",a=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:i="text"}={}){var a;const o=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${o};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const oc=new RegExp("[,()]");var wn=class extends Jm{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&oc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&oc.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},Qm=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join(""),{url:o,headers:l}=this.cloneRequestState();return o.searchParams.set("select",a),r&&l.append("Prefer",`count=${r}`),new wn({method:s,url:o,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:i,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);i.searchParams.set("columns",l.join(","))}}return new wn({method:s,url:i,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var i;const a="POST",{url:o,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&o.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);o.searchParams.set("columns",h.join(","))}}return new wn({method:a,url:o,headers:l,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:i}=this.cloneRequestState();return t&&i.append("Prefer",`count=${t}`),new wn({method:r,url:s,headers:i,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new wn({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Ym=class Fh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Qm(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Fh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:i}={}){var a;let o;const l=new URL(`${this.url}/rpc/${t}`);let u;const h=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(h)),f=r&&Object.values(n).some(h);f?(o="POST",u=n):r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([y,v])=>v!==void 0).map(([y,v])=>[y,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([y,v])=>{l.searchParams.append(y,v)})):(o="POST",u=n);const d=new Headers(this.headers);return f?d.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&d.set("Prefer",`count=${i}`),new wn({method:o,url:l,headers:d,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class Xm{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,i=parseInt(s.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Zm="2.93.2",eg=`realtime-js/${Zm}`,tg="1.0.0",Vh="2.0.0",lc=Vh,xo=1e4,ng=1e3,rg=100;var bt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bt||(bt={}));var fe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(fe||(fe={}));var Ze;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ze||(Ze={}));var ko;(function(e){e.websocket="websocket"})(ko||(ko={}));var Jt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Jt||(Jt={}));class sg{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var s,i;const a=t.topic,o=(s=t.ref)!==null&&s!==void 0?s:"",l=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+f.length,y=new ArrayBuffer(this.HEADER_LENGTH+d);let v=new DataView(y),_=0;v.setUint8(_++,this.KINDS.userBroadcastPush),v.setUint8(_++,l.length),v.setUint8(_++,o.length),v.setUint8(_++,a.length),v.setUint8(_++,u.length),v.setUint8(_++,f.length),v.setUint8(_++,n),Array.from(l,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(o,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(a,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(u,g=>v.setUint8(_++,g.charCodeAt(0))),Array.from(f,g=>v.setUint8(_++,g.charCodeAt(0)));var x=new Uint8Array(y.byteLength+r.byteLength);return x.set(new Uint8Array(y),0),x.set(new Uint8Array(r),y.byteLength),x.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,i,a,o,l]=r;return n({join_ref:s,ref:i,topic:a,event:o,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),i=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const h=r.decode(t.slice(l,l+i));l=l+i;const f=r.decode(t.slice(l,l+a));l=l+a;const d=t.slice(l,t.byteLength),y=o===this.JSON_ENCODING?JSON.parse(r.decode(d)):d,v={type:this.BROADCAST_EVENT,event:h,payload:y};return a>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class qh{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Y;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Y||(Y={}));const uc=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((i,a)=>(i[a]=ig(a,e,t,s),i),{}):{}},ig=(e,t,n,r)=>{const s=t.find(o=>o.name===e),i=s==null?void 0:s.type,a=n[e];return i&&!r.includes(i)?Wh(i,a):So(a)},Wh=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return ug(t,n)}switch(e){case Y.bool:return ag(t);case Y.float4:case Y.float8:case Y.int2:case Y.int4:case Y.int8:case Y.numeric:case Y.oid:return og(t);case Y.json:case Y.jsonb:return lg(t);case Y.timestamp:return cg(t);case Y.abstime:case Y.date:case Y.daterange:case Y.int4range:case Y.int8range:case Y.money:case Y.reltime:case Y.text:case Y.time:case Y.timestamptz:case Y.timetz:case Y.tsrange:case Y.tstzrange:return So(t);default:return So(t)}},So=e=>e,ag=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},og=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lg=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},ug=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let i;const a=e.slice(1,n);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Wh(t,o))}return e},cg=e=>typeof e=="string"?e.replace(" ","T"):e,Hh=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ga{constructor(t,n,r={},s=xo){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var cc;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(cc||(cc={}));class Tr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tr.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=Tr.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tr.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const i=this.cloneDeep(t),a=this.transformState(n),o={},l={};return this.map(i,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const f=i[u];if(f){const d=h.map(x=>x.presence_ref),y=f.map(x=>x.presence_ref),v=h.filter(x=>y.indexOf(x.presence_ref)<0),_=f.filter(x=>d.indexOf(x.presence_ref)<0);v.length>0&&(o[u]=v),_.length>0&&(l[u]=_)}else o[u]=h}),this.syncDiff(i,{joins:o,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:i,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var u;const h=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(l),h.length>0){const f=t[o].map(y=>y.presence_ref),d=h.filter(y=>f.indexOf(y.presence_ref)<0);t[o].unshift(...d)}r(o,h,l)}),this.map(a,(o,l)=>{let u=t[o];if(!u)return;const h=l.map(f=>f.presence_ref);u=u.filter(f=>h.indexOf(f.presence_ref)<0),t[o]=u,s(o,u,l),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dc;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(dc||(dc={}));var Cr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Cr||(Cr={}));var dt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dt||(dt={}));class $n{constructor(t,n={config:{}},r){var s,i;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new ga(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new qh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fe.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Tr(this),this.broadcastEndpointURL=Hh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==fe.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Cr.PRESENCE]&&this.bindings[Cr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},d={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>t==null?void 0:t(dt.CHANNEL_ERROR,y)),this._onClose(()=>t==null?void 0:t(dt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){t==null||t(dt.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,x=(v=_==null?void 0:_.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<x;p++){const m=_[p],{filter:{event:w,schema:b,table:S,filter:N}}=m,T=y&&y[p];if(T&&T.event===w&&$n.isFilterValueEqual(T.schema,b)&&$n.isFilterValueEqual(T.table,S)&&$n.isFilterValueEqual(T.filter,N))g.push(Object.assign(Object.assign({},m),{id:T.id}));else{this.unsubscribe(),this.state=fe.errored,t==null||t(dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(dt.SUBSCRIBED);return}}).receive("error",y=>{this.state=fe.errored,t==null||t(dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===fe.joined&&t===Cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:a}=t,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=fe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new ga(this,Ze.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fe.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new ga(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>rg){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,i;const a=t.toLocaleLowerCase(),{close:o,error:l,leave:u,join:h}=Ze;if(r&&[o,l,u,h].indexOf(a)>=0&&r!==this._joinRef())return;let d=this._onMessage(a,n,r);if(n&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,_,x;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((x=(_=y.filter)===null||_===void 0?void 0:_.event)===null||x===void 0?void 0:x.toLocaleLowerCase())===a}).map(y=>y.callback(d,r)):(i=this.bindings[a])===null||i===void 0||i.filter(y=>{var v,_,x,g,p,m;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in y){const w=y.id,b=(v=y.filter)===null||v===void 0?void 0:v.event;return w&&((_=n.ids)===null||_===void 0?void 0:_.includes(w))&&(b==="*"||(b==null?void 0:b.toLocaleLowerCase())===((x=n.data)===null||x===void 0?void 0:x.type.toLocaleLowerCase()))}else{const w=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return w==="*"||w===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===a}).map(y=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:_,table:x,commit_timestamp:g,type:p,errors:m}=v;d=Object.assign(Object.assign({},{schema:_,table:x,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(d,r)})}_isClosed(){return this.state===fe.closed}_isJoined(){return this.state===fe.joined}_isJoining(){return this.state===fe.joining}_isLeaving(){return this.state===fe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&$n.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ze.close,{},t)}_onError(t){this._on(Ze.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=uc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=uc(t.columns,t.old_record)),n}}const ya=()=>{},bs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dg=[1e3,2e3,5e3,1e4],hg=1e4,fg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pg{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xo,this.transport=null,this.heartbeatIntervalMs=bs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ya,this.ref=0,this.reconnectTimer=null,this.vsn=lc,this.logger=ya,this.conn=null,this.sendBuffer=[],this.serializer=new sg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ko.websocket}`,this.httpEndpoint=Hh(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Xm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case bt.connecting:return Jt.Connecting;case bt.open:return Jt.Open;case bt.closing:return Jt.Closing;default:return Jt.Closed}}isConnected(){return this.connectionState()===Jt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new $n(`realtime:${t}`,n,this);return this.channels.push(i),i}}push(t){const{topic:n,event:r,payload:s,ref:i}=t,a=()=>{this.encode(t,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(ng,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},bs.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(h){this.log("error","error in heartbeat callback",h)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:i,ref:a}=n,o=a?`(${a})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${s} ${o}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===bt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===bt.open||this.conn.readyState===bt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(n){this.log("error","error in heartbeat callback",n)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ze.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([fg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const i={access_token:n,version:eg};n&&s.updateJoinPayload(i),s.joinedOnce&&s._isJoined()&&s._push(Ze.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},bs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,i,a,o,l,u,h,f,d,y;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:xo,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:bs.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:ya,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:lc,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>dg[v-1]||hg,this.vsn){case tg:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(v,_)=>_(JSON.stringify(v)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(v,_)=>_(JSON.parse(v));break;case Vh:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(y=t==null?void 0:t.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Kr=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function mg(e,t,n){const r=new URL(t,e);if(n)for(const[s,i]of Object.entries(n))i!==void 0&&r.searchParams.set(s,i);return r.toString()}async function gg(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function yg(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:i,headers:a}){const o=mg(e.baseUrl,r,s),l=await gg(e.auth),u=await t(o,{method:n,headers:{...i?{"Content-Type":"application/json"}:{},...l,...a},body:i?JSON.stringify(i):void 0}),h=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),d=f&&h?JSON.parse(h):h;if(!u.ok){const y=f?d:void 0,v=y==null?void 0:y.error;throw new Kr((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:y})}return{status:u.status,headers:u.headers,data:d}}}}function js(e){return e.join("")}var vg=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:js(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${js(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${js(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${js(e.namespace)}`}),!0}catch(t){if(t instanceof Kr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Kr&&n.status===409)return;throw n}}};function pn(e){return e.join("")}var _g=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${pn(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Kr&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Kr&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},wg=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=yg({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new vg(this.client,t),this.tableOps=new _g(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Mi=class extends Error{constructor(e,t="storage",n,r){super(e),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=n,this.statusCode=r}};function zi(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Ns=class extends Mi{constructor(e,t,n,r="storage"){super(e,r,t,n),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Kh=class extends Mi{constructor(e,t,n="storage"){super(e,n),this.name=n==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const xg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),kg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Eo=e=>{if(Array.isArray(e))return e.map(n=>Eo(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Eo(r)}),t},Sg=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function Gr(e){"@babel/helpers - typeof";return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gr(e)}function Eg(e,t){if(Gr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bg(e){var t=Eg(e,"string");return Gr(t)=="symbol"?t:t+""}function jg(e,t,n){return(t=bg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hc(Object(n),!0).forEach(function(r){jg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const fc=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Ng=async(e,t,n,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const s=e,i=s.status||500;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";t(new Ns(fc(a),i,o,r))}).catch(()=>{if(r==="vectors"){const a=i+"";t(new Ns(s.statusText||`HTTP ${i} error`,i,a,r))}else{const a=i+"";t(new Ns(s.statusText||`HTTP ${i} error`,i,a,r))}});else{const a=i+"";t(new Ns(s.statusText||`HTTP ${i} error`,i,a,r))}}else t(new Kh(fc(e),e,r))},Tg=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||e==="HEAD"||!r?D(D({},s),n):(kg(r)?(s.headers=D({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),D(D({},s),n))};async function cr(e,t,n,r,s,i,a){return new Promise((o,l)=>{e(n,Tg(t,r,s,i)).then(u=>{if(!u.ok)throw u;if(r!=null&&r.noResolveJson)return u;if(a==="vectors"){const h=u.headers.get("content-type");if(!h||!h.includes("application/json"))return{}}return u.json()}).then(u=>o(u)).catch(u=>Ng(u,l,r,a))})}function Cg(e="storage"){return{get:async(t,n,r,s)=>cr(t,"GET",n,r,s,void 0,e),post:async(t,n,r,s,i)=>cr(t,"POST",n,s,i,r,e),put:async(t,n,r,s,i)=>cr(t,"PUT",n,s,i,r,e),head:async(t,n,r,s)=>cr(t,"HEAD",n,D(D({},r),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,n,r,s,i)=>cr(t,"DELETE",n,s,i,r,e)}}const Og=Cg("storage"),{get:Jr,post:ne,put:bo,head:Pg,remove:Nl}=Og;var er=class{constructor(e,t={},n,r="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=xg(n),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){var t=this;try{return{data:await e(),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(zi(n))return{data:null,error:n};throw n}}},Rg=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zi(t))return{data:null,error:t};throw t}}};let Gh;Gh=Symbol.toStringTag;var Ag=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Gh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Rg(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(zi(t))return{data:null,error:t};throw t}}};const Ig={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var $g=class extends er{constructor(e,t={},n,r){super(e,t,r,"storage"),this.bucketId=n}async uploadOrUpdate(e,t,n,r){var s=this;return s.handleOperation(async()=>{let i;const a=D(D({},pc),r);let o=D(D({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",a.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=D(D({},o),r.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),f=await(e=="PUT"?bo:ne)(s.fetch,`${s.url}/object/${h}`,i,D({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{path:u,id:f.Id,fullPath:f.Key}})}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const i=s._removeEmptyFolders(e),a=s._getFinalPath(i),o=new URL(s.url+`/object/upload/sign/${a}`);return o.searchParams.set("token",t),s.handleOperation(async()=>{let l;const u=D({upsert:pc.upsert},r),h=D(D({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{path:i,fullPath:(await bo(s.fetch,o.toString(),l,{headers:h})).Key}})}async createSignedUploadUrl(e,t){var n=this;return n.handleOperation(async()=>{let r=n._getFinalPath(e);const s=D({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=await ne(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(n.url+i.url),o=a.searchParams.get("token");if(!o)throw new Mi("No token returned by API");return{signedUrl:a.toString(),path:e,token:o}})}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;return r.handleOperation(async()=>await ne(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}))}async copy(e,t,n){var r=this;return r.handleOperation(async()=>({path:(await ne(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(e,t,n){var r=this;return r.handleOperation(async()=>{let s=r._getFinalPath(e),i=await ne(r.fetch,`${r.url}/object/sign/${s}`,D({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{signedUrl:encodeURI(`${r.url}${i.signedURL}${a}`)}})}async createSignedUrls(e,t,n){var r=this;return r.handleOperation(async()=>{const s=await ne(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s.map(a=>D(D({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${i}`):null}))})}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",i=this._getFinalPath(e),a=()=>Jr(this.fetch,`${this.url}/${n}/${i}${s}`,{headers:this.headers,noResolveJson:!0});return new Ag(a,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);return t.handleOperation(async()=>Eo(await Jr(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})))}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await Pg(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(zi(r)&&r instanceof Kh){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${n}${o}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,n){var r=this;return r.handleOperation(async()=>{const s=D(D(D({},Ig),t),{},{prefix:e||""});return await ne(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n)})}async listV2(e,t){var n=this;return n.handleOperation(async()=>{const r=D({},e);return await ne(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Lg="2.93.2",ss={"X-Client-Info":`storage-js/${Lg}`};var Ug=class extends er{constructor(e,t={},n,r){const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase."));const i=s.href.replace(/\/$/,""),a=D(D({},ss),t);super(i,a,n,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=t.listBucketOptionsToQueryString(e);return await Jr(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await Jr(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var n=this;return n.handleOperation(async()=>await ne(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async updateBucket(e,t){var n=this;return n.handleOperation(async()=>await bo(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Dg=class extends er{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=D(D({},ss),t);super(r,s,n,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await Jr(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await Nl(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!Sg(e))throw new Mi("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new wg({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,i){const a=s[i];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(s,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}},Mg=class extends er{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=D(D({},ss),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var n=this;return n.handleOperation(async()=>await ne(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var n=this;return n.handleOperation(async()=>await ne(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{})}},zg=class extends er{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=D(D({},ss),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},Bg=class extends er{constructor(e,t={},n){const r=e.replace(/\/$/,""),s=D(D({},ss),{},{"Content-Type":"application/json"},t);super(r,s,n,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ne(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},Fg=class extends Bg{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Vg(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},Vg=class extends Mg{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new qg(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},qg=class extends zg{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,D(D({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},Wg=class extends Ug{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new $g(this.url,this.headers,e,this.fetch)}get vectors(){return new Fg(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Dg(this.url+"/iceberg",this.headers,this.fetch)}};const Jh="2.93.2",xn=30*1e3,jo=3,va=jo*xn,Hg="http://localhost:9999",Kg="supabase.auth.token",Gg={"X-Client-Info":`gotrue-js/${Jh}`},No="X-Supabase-Api-Version",Qh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Jg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Qg=10*60*1e3;class Qr extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Yg extends Qr{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Xg(e){return I(e)&&e.name==="AuthApiError"}class Qt extends Qr{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class xt extends Qr{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Le extends xt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _a(e){return I(e)&&e.name==="AuthSessionMissingError"}class mn extends xt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ts extends xt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cs extends xt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zg(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class mc extends xt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ey extends xt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class To extends xt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function wa(e){return I(e)&&e.name==="AuthRetryableFetchError"}class gc extends xt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Co extends xt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),yc=` 	
\r=`.split(""),ty=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<yc.length;t+=1)e[yc[t].charCodeAt(0)]=-2;for(let t=0;t<vi.length;t+=1)e[vi[t].charCodeAt(0)]=t;return e})();function vc(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vi[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(vi[r]),t.queuedBits-=6}}function Yh(e,t,n){const r=ty[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _c(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{sy(a,r,n)};for(let a=0;a<e.length;a+=1)Yh(e.charCodeAt(a),s,i);return t.join("")}function ny(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ry(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ny(r,t)}}function sy(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Fn(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Yh(e.charCodeAt(s),n,r);return new Uint8Array(t)}function iy(e){const t=[];return ry(e,n=>t.push(n)),new Uint8Array(t)}function en(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>vc(s,n,r)),vc(null,n,r),t.join("")}function ay(e){return Math.round(Date.now()/1e3)+e}function oy(){return Symbol("auth-callback")}const _e=()=>typeof window<"u"&&typeof document<"u",qt={tested:!1,writable:!1},Xh=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qt.tested)return qt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qt.tested=!0,qt.writable=!0}catch{qt.tested=!0,qt.writable=!1}return qt.writable};function ly(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const Zh=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),uy=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",kn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wt=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ve=async(e,t)=>{await e.removeItem(t)};class Bi{constructor(){this.promise=new Bi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Bi.promiseConstructor=Promise;function Os(e){const t=e.split(".");if(t.length!==3)throw new Co("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Jg.test(t[r]))throw new Co("JWT not in base64url format");return{header:JSON.parse(_c(t[0])),payload:JSON.parse(_c(t[1])),signature:Fn(t[2]),raw:{header:t[0],payload:t[1]}}}async function cy(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dy(e,t){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await e(i);if(!t(i,null,a)){r(a);return}}catch(a){if(!t(i,a)){s(a);return}}})()})}function hy(e){return("0"+e.toString(16)).substr(-2)}function fy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,hy).join("")}async function py(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function my(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await py(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gn(e,t,n=!1){const r=fy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await kn(e,`${t}-code-verifier`,s);const i=await my(r);return[i,r===i?"plain":"s256"]}const gy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function yy(e){const t=e.headers.get(No);if(!t||!t.match(gy))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function _y(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const wy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function yn(e){if(!wy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function xa(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xy(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const i=r.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function wc(e){return JSON.parse(JSON.stringify(e))}const Gt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),ky=[502,503,504];async function xc(e){var t;if(!uy(e))throw new To(Gt(e),0);if(ky.includes(e.status))throw new To(Gt(e),e.status);let n;try{n=await e.json()}catch(i){throw new Qt(Gt(i),i)}let r;const s=yy(e);if(s&&s.getTime()>=Qh["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gc(Gt(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Le}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new gc(Gt(n),e.status,n.weak_password.reasons);throw new Yg(Gt(n),e.status||500,r)}const Sy=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function U(e,t,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[No]||(i[No]=Qh["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Ey(e,t,n+o,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function Ey(e,t,n,r,s,i){const a=Sy(t,r,s,i);let o;try{o=await e(n,Object.assign({},a))}catch(l){throw console.error(l),new To(Gt(l),0)}if(o.ok||await xc(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await xc(l)}}function Qe(e){var t;let n=null;Ny(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ay(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function kc(e){const t=Qe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Tt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function by(e){return{data:e,error:null}}function jy(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=e,a=Di(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Sc(e){return e}function Ny(e){return e.access_token&&e.refresh_token&&e.expires_in}const ka=["global","local","others"];class Ty{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=Zh(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=ka[0]){if(ka.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ka.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Di(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jy,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(I(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sc});if(h.error)throw h.error;const f=await h.json(),d=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){yn(t);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Tt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){yn(t);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){yn(t);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Tt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){yn(t.userId);try{const{data:n,error:r}=await U(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteFactor(t){yn(t.userId),yn(t.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,i,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},h=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Sc});if(h.error)throw h.error;const f=await h.json(),d=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,y=(l=(o=h.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const _=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),x=JSON.parse(v.split(";")[1].split("=")[1]);u[`${x}Page`]=_}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}}function Ec(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const vn={debug:!!(globalThis&&Xh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ef extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Cy extends ef{}async function Oy(e,t,n){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),vn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw vn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cy(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(vn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Py(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function tf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Ry(e){return parseInt(e,16)}function Ay(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function Iy(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:i=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:h,uri:f,version:d}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const y=tf(e.address),v=h?`${h}://${r}`:r,_=e.statement?`${e.statement}
`:"",x=`${v} wants you to sign in with your Ethereum account:
${y}

${_}`;let g=`URI: ${f}
Version: ${d}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${i.toISOString()}`;if(s&&(g+=`
Expiration Time: ${s.toISOString()}`),o&&(g+=`
Not Before: ${o.toISOString()}`),l&&(g+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const m of u){if(!m||typeof m!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${m}`);p+=`
- ${m}`}g+=p}return`${x}
${g}`}class de extends Error{constructor({message:t,code:n,cause:r,name:s}){var i;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(i=s??(r instanceof Error?r.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=n}}class _i extends de{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function $y({error:e,options:t}){var n,r,s;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new de({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=i.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new de({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new de({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new de({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new de({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new de({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new de({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new de({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(nf(a)){if(i.rp.id!==a)return new de({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new de({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Ly({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new de({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new de({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(nf(r)){if(n.rpId!==r)return new de({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new de({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new de({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new de({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Uy{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Dy=new Uy;function My(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Di(e,["challenge","user","excludeCredentials"]),i=Fn(t).buffer,a=Object.assign(Object.assign({},n),{id:Fn(n.id).buffer}),o=Object.assign(Object.assign({},s),{challenge:i,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Fn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function zy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Di(e,["challenge","allowCredentials"]),s=Fn(t).buffer,i=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){i.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];i.allowCredentials[a]=Object.assign(Object.assign({},o),{id:Fn(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return i}function By(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:en(new Uint8Array(e.response.attestationObject)),clientDataJSON:en(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Fy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:en(new Uint8Array(s.authenticatorData)),clientDataJSON:en(new Uint8Array(s.clientDataJSON)),signature:en(new Uint8Array(s.signature)),userHandle:s.userHandle?en(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function nf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function bc(){var e,t;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vy(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _i("Browser returned unexpected credential type",t)}:{data:null,error:new _i("Empty credential response",t)}}catch(t){return{data:null,error:$y({error:t,options:e})}}}async function qy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _i("Browser returned unexpected credential type",t)}:{data:null,error:new _i("Empty credential response",t)}}catch(t){return{data:null,error:Ly({error:t,options:e})}}}const Wy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wi(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const i in s){const a=s[i];if(a!==void 0)if(Array.isArray(a))r[i]=a;else if(n(a))r[i]=a;else if(t(a)){const o=r[i];t(o)?r[i]=wi(o,a):r[i]=wi(a)}else r[i]=a}return r}function Ky(e,t){return wi(Wy,e,t||{})}function Gy(e,t){return wi(Hy,e,t||{})}class Jy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},i){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:o};const l=s??Dy.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Ky(a.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:f}=await Vy({publicKey:u,signal:l});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}case"request":{const u=Gy(a.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:f}=await qy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:f}}}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Qt("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Qr("rpId is required for WebAuthn authentication")};try{if(!bc())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:i});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Qt("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!n)return{data:null,error:new Qr("rpId is required for WebAuthn registration")};try{if(!bc())return{data:null,error:new Qt("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var f;return(f=h.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===t&&d.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:i});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return I(a)?{data:null,error:a}:{data:null,error:new Qt("Unexpected error in register",a)}}}}Py();const Qy={url:Hg,storageKey:Kg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Gg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function jc(e,t,n){return await n()}const _n={};class Yr{get jwks(){var t,n;return(n=(t=_n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=_n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){_n[this.storageKey]=Object.assign(Object.assign({},_n[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Qy),t);if(this.storageKey=i.storageKey,this.instanceID=(n=Yr.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Yr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_e()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Ty({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Zh(i.fetch),this.lock=i.lock||jc,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&_e()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Oy:this.lock=jc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Jy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Xh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Ec(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a);try{await this._notifyAllSubscribers(a.data.event,a.data.session,!1)}catch(o){this._debug("#broadcastChannel","error",o)}})}this.initialize().catch(a=>{this._debug("#initialize()","error",a)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Jh}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(_e()&&(n=ly(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),_e()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Zg(i)){const l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return I(n)?this._returnResult({error:n}):this._returnResult({error:new Qt("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Qe}),{data:a,error:o}=i;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var n,r,s;try{let i;if("email"in t){const{email:h,password:f,options:d}=t;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await gn(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:h,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:y,code_challenge_method:v},xform:Qe})}else if("phone"in t){const{phone:h,password:f,options:d}=t;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Qe})}else throw new Ts("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return await ve(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let n;if("email"in t){const{email:i,password:a,options:o}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kc})}else if("phone"in t){const{phone:i,password:a,options:o}=t;n=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:kc})}else throw new Ts("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const i=new mn;return this._returnResult({data:{user:null,session:null},error:i})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,i,a,o,l,u,h,f,d;let y,v;if("message"in t)y=t.message,v=t.signature;else{const{chain:_,wallet:x,statement:g,options:p}=t;let m;if(_e())if(typeof x=="object")m=x;else{const C=window;if("ethereum"in C&&typeof C.ethereum=="object"&&"request"in C.ethereum&&typeof C.ethereum.request=="function")m=C.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");m=x}const w=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),b=await m.request({method:"eth_requestAccounts"}).then(C=>C).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!b||b.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=tf(b[0]);let N=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!N){const C=await m.request({method:"eth_chainId"});N=Ry(C)}const T={domain:w.host,address:S,statement:g,uri:w.href,version:"1",chainId:N,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=p==null?void 0:p.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=Iy(T),v=await m.request({method:"personal_sign",params:[Ay(y),S]})}try{const{data:_,error:x}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:Qe});if(x)throw x;if(!_||!_.session||!_.user){const g=new mn;return this._returnResult({data:{user:null,session:null},error:g})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:x})}catch(_){if(I(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async signInWithSolana(t){var n,r,s,i,a,o,l,u,h,f,d,y;let v,_;if("message"in t)v=t.message,_=t.signature;else{const{chain:x,wallet:g,statement:p,options:m}=t;let w;if(_e())if(typeof g=="object")w=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))w=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=g}const b=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in w&&w.signIn){const S=await w.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:b.host,uri:b.href}),p?{statement:p}:null));let N;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")N=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)N=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),_=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in w)||typeof w.signMessage!="function"||!("publicKey"in w)||typeof w!="object"||!w.publicKey||!("toBase58"in w.publicKey)||typeof w.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${b.host} wants you to sign in with your Solana account:`,w.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${b.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((a=m==null?void 0:m.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((f=(h=m==null?void 0:m.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||f===void 0)&&f.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const S=await w.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:x,error:g}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:en(_)},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qe});if(g)throw g;if(!x||!x.session||!x.user){const p=new mn;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:g})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async _exchangeCodeForSession(t){const n=await Wt(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new ey;const{data:i,error:a}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Qe});if(await ve(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!i||!i.session||!i.user){const o=new mn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:i,nonce:a}=t,o=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Qe}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new mn;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,i,a;try{if("email"in t){const{email:o,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await gn(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:o,options:l}=t,{data:u,error:h}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Ts("You must provide either an email or phone number.")}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(t){var n,r;try{let s,i;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,i=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:Qe});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,i,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await gn(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:by});return!((i=u.data)===null||i===void 0)&&i.url&&_e()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Le;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:i}=t,{error:a}=await U(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:r,type:s,options:i}=t,{data:a,error:o}=await U(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new Ts("You must provide either an email or phone number and a type")}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<va:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await Wt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=xa()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=xy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Tt}):await this._useSession(async n=>{var r,s,i;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Le}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Tt})})}catch(n){if(I(n))return _a(n)&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Le;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&t.email!=null&&([o,l]=await gn(this.storage,this.storageKey));const{data:u,error:h}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Tt});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Le;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:a}=Os(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{data:o,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(t.access_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});i={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:o}=n;if(o)throw o;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Le;const{data:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!_e())throw new Cs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new mc("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const w=new URL(window.location.href);return w.searchParams.delete("code"),window.history.replaceState(window.history.state,"",w.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=t;if(!i||!o||!a||!u)throw new Cs("No session defined in URL");const h=Math.round(Date.now()/1e3),f=parseInt(o);let d=h+f;l&&(d=parseInt(l));const y=d-h;y*1e3<=xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=d-f;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,h);const{data:_,error:x}=await this._getUser(i);if(x)throw x;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:a,token_type:u,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:g,redirectType:t.type},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i&&!_a(i))return this._returnResult({error:i});const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,t);if(o&&!(Xg(o)&&(o.status===404||o.status===401||o.status===403)||_a(o)))return this._returnResult({error:o})}return t!=="others"&&(await this._removeSession(),await ve(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=oy(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await gn(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var a,o,l,u,h;const{data:f,error:d}=i;if(d)throw d;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return _e()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(I(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:i}}=n;if(s)throw s;const{options:a,provider:o,token:l,access_token:u,nonce:h}=t,f=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=i==null?void 0:i.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Qe}),{data:d,error:y}=f;return y?this._returnResult({data:{user:null,session:null},error:y}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new mn}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:y}))}catch(s){if(await ve(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)throw a;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dy(async s=>(s>0&&await cy(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qe})),(s,i)=>{const a=200*Math.pow(2,s);return i&&wa(i)&&Date.now()+a-r<xn})}catch(r){if(this._debug(n,"error",r),I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),_e()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Wt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Wt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await kn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:xa()}else if(s&&!s.user&&!s.user){const a=await Wt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await ve(this.storage,this.storageKey+"-user"),await kn(this.storage,this.storageKey,s)):s.user=xa()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<va;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${va}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),wa(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(s.access_token);!o&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Le;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Bi;const{data:i,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!i.session)throw new Le;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={data:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),I(i)){const a={data:null,error:i};return wa(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ve(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await kn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=wc(s);await kn(this.storage,this.storageKey,i)}else{const s=wc(n);await kn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ve(this.storage,this.storageKey),await ve(this.storage,this.storageKey+"-code-verifier"),await ve(this.storage,this.storageKey+"-user"),this.userStorage&&await ve(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${xn}ms, refresh threshold is ${jo} ticks`),s<=jo&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof ef)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,a]=await gn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?this._returnResult({data:null,error:i}):await U(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:i,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?By(t.webauthn.credential_response):Fy(t.webauthn.credential_response)})}:{code:t.code}),{data:o,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=await U(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:My(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zy(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(t){var n,r,s,i;if(t)try{const{payload:y}=Os(t);let v=null;y.aal&&(v=y.aal);let _=v;const{data:{user:x},error:g}=await this.getUser(t);if(g)return this._returnResult({data:null,error:g});((r=(n=x==null?void 0:x.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(_="aal2");const m=y.amr||[];return{data:{currentLevel:v,nextLevel:_,currentAuthenticationMethods:m},error:null}}catch(y){if(I(y))return this._returnResult({data:null,error:y});throw y}const{data:{session:a},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=Os(a.access_token);let u=null;l.aal&&(u=l.aal);let h=u;((i=(s=a.user.factors)===null||s===void 0?void 0:s.filter(y=>y.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const d=l.amr||[];return{data:{currentLevel:u,nextLevel:h,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Le})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&_e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new Le});const a=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&_e()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await U(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Le})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await U(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Le})})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(o=>o.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(o=>o.kid===t),r&&this.jwks_cached_at+Qg>s)return r;const{data:i,error:a}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(o=>o.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});r=y.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Os(r);n!=null&&n.allowExpired||vy(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:a},error:null}}const h=_y(s.alg),f=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,f,a,iy(`${o}.${l}`)))throw new Co("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}}Yr.nextInstanceID={};const Yy=Yr,Xy="2.93.2";let gr="";typeof Deno<"u"?gr="deno":typeof document<"u"?gr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gr="react-native":gr="node";const Zy={"X-Client-Info":`supabase-js-${gr}/${Xy}`},e0={headers:Zy},t0={schema:"public"},n0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},r0={};function Xr(e){"@babel/helpers - typeof";return Xr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xr(e)}function s0(e,t){if(Xr(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i0(e){var t=s0(e,"string");return Xr(t)=="symbol"?t:t+""}function a0(e,t,n){return(t=i0(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nc(Object(n),!0).forEach(function(r){a0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nc(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const o0=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),l0=()=>Headers,u0=(e,t,n)=>{const r=o0(n),s=l0();return async(i,a)=>{var o;const l=(o=await t())!==null&&o!==void 0?o:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(i,le(le({},a),{},{headers:u}))}};function c0(e){return e.endsWith("/")?e:e+"/"}function d0(e,t){var n,r;const{db:s,auth:i,realtime:a,global:o}=e,{db:l,auth:u,realtime:h,global:f}=t,d={db:le(le({},l),s),auth:le(le({},u),i),realtime:le(le({},h),a),storage:{},global:le(le(le({},f),o),{},{headers:le(le({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}function h0(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(c0(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var f0=class extends Yy{constructor(e){super(e)}},p0=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const i=h0(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const a=`sb-${i.hostname.split(".")[0]}-auth-token`,o={db:t0,realtime:r0,auth:le(le({},n0),{},{storageKey:a}),global:e0},l=d0(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=u0(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(le({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Ym(new URL("rest/v1",i).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Wg(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Hm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:i,flowType:a,lock:o,debug:l,throwOnError:u},h,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f0({url:this.authUrl.href,headers:le(le({},d),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:a,lock:o,debug:l,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new pg(this.realtimeUrl.href,le(le({},e),{},{params:le(le({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const m0=(e,t,n)=>new p0(e,t,n);function g0(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}g0()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const y0="https://rqiwnxcexsccguruiteq.supabase.co",v0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxaXdueGNleHNjY2d1cnVpdGVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3Njc5MzcsImV4cCI6MjA3NTM0MzkzN30.Dl05zPQDtPVpmvn_Y-JokT3wDq0Oh9uF3op5xcHZpkY",q=m0(y0,v0),rf=Object.freeze(Object.defineProperty({__proto__:null,supabase:q},Symbol.toStringTag,{value:"Module"})),_0={totalMatches:0,wins:0,losses:0,winRate:0,tournamentsPlayed:0,bestFinish:"-"};async function yr(e){var M;const t={playerName:"",playerAccountId:null,upcomingTournaments:[],pastTournaments:[],upcomingMatches:[],recentMatches:[],leagueStandings:[],stats:{..._0}},{data:n}=await q.from("player_accounts").select("id, name, phone_number").eq("user_id",e).maybeSingle();if(!n)return t;t.playerAccountId=n.id,t.playerName=n.name||"";const r=n.phone_number,s=n.name,[i,a]=await Promise.all([r?q.from("players").select("id, tournament_id").eq("phone_number",r):{data:[]},s?q.from("players").select("id, tournament_id").ilike("name",s):{data:[]}]),o=new Map;[...i.data||[],...a.data||[]].forEach(P=>{o.set(P.id,P)});const l=Array.from(o.values()),u=l.map(P=>P.id),h=l.filter(P=>P.tournament_id).map(P=>P.tournament_id);if(l.length===0)return await Sa(n.id,s||"",t),t;const f=u.map(P=>`player1_id.eq.${P},player2_id.eq.${P}`).join(","),[d,y]=await Promise.all([h.length>0?q.from("tournaments").select("id, name, start_date, end_date, status").in("id",h):{data:[]},u.length>0?q.from("teams").select("tournament_id, tournaments!inner(id, name, start_date, end_date, status)").or(f):{data:[]}]),v=d.data||[],x=(y.data||[]).map(P=>P.tournaments),p=[...v,...x].reduce((P,E)=>(P.find(A=>A.id===E.id)||P.push(E),P),[]),m=p.map(P=>P.id),[w,b]=await Promise.all([q.from("players").select("tournament_id").in("tournament_id",m),q.from("teams").select("tournament_id").in("tournament_id",m)]),S=new Map,N=new Map;(w.data||[]).forEach(P=>S.set(P.tournament_id,(S.get(P.tournament_id)||0)+1)),(b.data||[]).forEach(P=>N.set(P.tournament_id,(N.get(P.tournament_id)||0)+1));const T=new Date,C=[],k=[];p.forEach(P=>{const E=N.get(P.id)||S.get(P.id)||0,A={...P,enrolled_count:E},L=P.status==="in_progress"||P.status==="active";P.status==="completed"||P.status==="finished"?k.push(A):L||new Date(P.end_date+"T23:59:59")>=T?C.push(A):k.push(A)}),C.sort((P,E)=>new Date(P.start_date).getTime()-new Date(E.start_date).getTime()),k.sort((P,E)=>new Date(E.start_date).getTime()-new Date(P.start_date).getTime()),t.upcomingTournaments=C,t.pastTournaments=k,t.stats.tournamentsPlayed=k.length;const $=((M=(await q.from("teams").select("id").or(f)).data)==null?void 0:M.map(P=>P.id))||[],V=$.length>0?`team1_id.in.(${$.join(",")}),team2_id.in.(${$.join(",")})`:"",F=u.map(P=>`player1_individual_id.eq.${P},player2_individual_id.eq.${P},player3_individual_id.eq.${P},player4_individual_id.eq.${P}`).join(","),Q=[V,F].filter(P=>P.length>0).join(",");if(!Q)return await Sa(n.id,s||"",t),t;const{data:H}=await q.from("matches").select(`
      id, tournament_id, court, scheduled_time,
      team1_score_set1, team2_score_set1, team1_score_set2, team2_score_set2, team1_score_set3, team2_score_set3,
      status, round, team1_id, team2_id,
      player1_individual_id, player2_individual_id, player3_individual_id, player4_individual_id,
      tournaments!inner(name),
      team1:teams!matches_team1_id_fkey(id, name, t1p1:players!teams_player1_id_fkey(name), t1p2:players!teams_player2_id_fkey(name)),
      team2:teams!matches_team2_id_fkey(id, name, t2p1:players!teams_player1_id_fkey(name), t2p2:players!teams_player2_id_fkey(name)),
      p1:players!matches_player1_individual_id_fkey(id, name),
      p2:players!matches_player2_individual_id_fkey(id, name),
      p3:players!matches_player3_individual_id_fkey(id, name),
      p4:players!matches_player4_individual_id_fkey(id, name)
    `).or(Q).order("scheduled_time",{ascending:!0});if(H){let P=0,E=0;const A=H.map(O=>{var Cl,Ol,Pl,Rl,Al,Il,$l,Ll,Ul,Dl,Ml,zl,Bl,Fl,Vl,ql,Wl,Hl,Kl,Gl;const se=O.p1||O.p2||O.p3||O.p4,tr=se?`${((Cl=O.p1)==null?void 0:Cl.name)||"TBD"}${O.p2?" / "+O.p2.name:""}`:((Ol=O.team1)==null?void 0:Ol.name)||"TBD",ut=se?`${((Pl=O.p3)==null?void 0:Pl.name)||"TBD"}${O.p4?" / "+O.p4.name:""}`:((Rl=O.team2)==null?void 0:Rl.name)||"TBD",hn=se?(Al=O.p1)==null?void 0:Al.name:($l=(Il=O.team1)==null?void 0:Il.t1p1)==null?void 0:$l.name,of=se?(Ll=O.p2)==null?void 0:Ll.name:(Dl=(Ul=O.team1)==null?void 0:Ul.t1p2)==null?void 0:Dl.name,lf=se?(Ml=O.p3)==null?void 0:Ml.name:(Bl=(zl=O.team2)==null?void 0:zl.t2p1)==null?void 0:Bl.name,uf=se?(Fl=O.p4)==null?void 0:Fl.name:(ql=(Vl=O.team2)==null?void 0:Vl.t2p2)==null?void 0:ql.name,is=[(O.team1_score_set1||0)>(O.team2_score_set1||0)?1:0,(O.team1_score_set2||0)>(O.team2_score_set2||0)?1:0,(O.team1_score_set3||0)>(O.team2_score_set3||0)?1:0].reduce((os,Vi)=>os+Vi,0),as=[(O.team2_score_set1||0)>(O.team1_score_set1||0)?1:0,(O.team2_score_set2||0)>(O.team1_score_set2||0)?1:0,(O.team2_score_set3||0)>(O.team1_score_set3||0)?1:0].reduce((os,Vi)=>os+Vi,0);let Fi;O.status==="completed"&&(is>0||as>0)&&(Fi=(se?u.includes((Wl=O.p1)==null?void 0:Wl.id)||u.includes((Hl=O.p2)==null?void 0:Hl.id):$.includes((Kl=O.team1)==null?void 0:Kl.id))?is>as:as>is,Fi?P++:E++);const cf=O.team1_score_set1!=null&&O.team2_score_set1!=null?`${O.team1_score_set1}-${O.team2_score_set1}`:void 0,df=O.team1_score_set2!=null&&O.team2_score_set2!=null&&(O.team1_score_set2>0||O.team2_score_set2>0)?`${O.team1_score_set2}-${O.team2_score_set2}`:void 0,hf=O.team1_score_set3!=null&&O.team2_score_set3!=null&&(O.team1_score_set3>0||O.team2_score_set3>0)?`${O.team1_score_set3}-${O.team2_score_set3}`:void 0;return{id:O.id,tournament_id:O.tournament_id,tournament_name:((Gl=O.tournaments)==null?void 0:Gl.name)||"",court:O.court||"",start_time:O.scheduled_time||"",team1_name:tr,team2_name:ut,player1_name:hn??void 0,player2_name:of??void 0,player3_name:lf??void 0,player4_name:uf??void 0,score1:is,score2:as,status:O.status,round:O.round||"",is_winner:Fi,set1:cf,set2:df,set3:hf}}),L=A.filter(O=>new Date(O.start_time)>=T&&O.status==="scheduled"),K=A.filter(O=>O.status==="completed").reverse().slice(0,10);t.upcomingMatches=L,t.recentMatches=K;const J=P+E;t.stats.totalMatches=J,t.stats.wins=P,t.stats.losses=E,t.stats.winRate=J>0?Math.round(P/J*100):0}return await Sa(n.id,s||"",t),t}async function Sa(e,t,n){let r=q.from("league_standings").select(`
      id, league_id, total_points, tournaments_played, entity_name,
      leagues!inner(id, name)
    `);t?r=r.or(`player_account_id.eq.${e},entity_name.ilike.${t}`):r=r.eq("player_account_id",e);const{data:s}=await r.order("total_points",{ascending:!1});if(!s||s.length===0)return;const i=await Promise.all(s.map(async a=>{var h,f;const o=(h=a.leagues)==null?void 0:h.id,{data:l}=await q.from("league_standings").select("id, total_points").eq("league_id",o).order("total_points",{ascending:!1}),u=l?l.findIndex(d=>d.id===a.id)+1:0;return{league_id:o,league_name:((f=a.leagues)==null?void 0:f.name)||"",position:u,total_participants:(l==null?void 0:l.length)||0,points:a.total_points,tournaments_played:a.tournaments_played}}));n.leagueStandings=i}async function w0(e,t){const{data:n}=await q.from("league_standings").select("entity_name, total_points, tournaments_played, best_position").eq("league_id",e).order("total_points",{ascending:!1});return n?n.map((r,s)=>{var i;return{position:s+1,entity_name:r.entity_name,total_points:r.total_points,tournaments_played:r.tournaments_played,best_position:r.best_position??0,is_current_player:t?((i=r.entity_name)==null?void 0:i.toLowerCase().trim())===t.toLowerCase().trim():!1}}):[]}async function x0(e,t){let n="";const[{data:r},{data:s},{data:i},{data:a}]=await Promise.all([q.from("tournaments").select("name").eq("id",e).maybeSingle(),q.from("matches").select("id, team1_id, team2_id, player1_individual_id, player2_individual_id, player3_individual_id, player4_individual_id, team1_score_set1, team2_score_set1, team1_score_set2, team2_score_set2, team1_score_set3, team2_score_set3, status, round").eq("tournament_id",e).eq("status","completed"),q.from("teams").select("id, name, group_name, final_position").eq("tournament_id",e),q.from("players").select("id, name, group_name").eq("tournament_id",e)]);r&&(n=r.name||"");const o=((a==null?void 0:a.length)||0)>0&&((i==null?void 0:i.length)||0)===0,l=new Map;o&&a?(a.forEach(d=>{l.set(d.id,{id:d.id,name:d.name,group_name:d.group_name||"Geral",wins:0,losses:0,points_for:0,points_against:0,points:0})}),(s||[]).forEach(d=>{const y=(d.team1_score_set1||0)+(d.team1_score_set2||0)+(d.team1_score_set3||0),v=(d.team2_score_set1||0)+(d.team2_score_set2||0)+(d.team2_score_set3||0);[d.player1_individual_id,d.player2_individual_id].filter(Boolean).forEach(_=>{const x=l.get(_);x&&(x.points_for+=y,x.points_against+=v,y>v?(x.wins++,x.points+=2):(x.losses++,x.points+=1))}),[d.player3_individual_id,d.player4_individual_id].filter(Boolean).forEach(_=>{const x=l.get(_);x&&(x.points_for+=v,x.points_against+=y,v>y?(x.wins++,x.points+=2):(x.losses++,x.points+=1))})})):i&&(i.forEach(d=>{l.set(d.id,{id:d.id,name:d.name,group_name:d.group_name||"Geral",final_position:d.final_position,wins:0,losses:0,points_for:0,points_against:0,points:0})}),(s||[]).forEach(d=>{if(!d.team1_id||!d.team2_id)return;const y=(d.team1_score_set1||0)+(d.team1_score_set2||0)+(d.team1_score_set3||0),v=(d.team2_score_set1||0)+(d.team2_score_set2||0)+(d.team2_score_set3||0),_=l.get(d.team1_id),x=l.get(d.team2_id);_&&(_.points_for+=y,_.points_against+=v,y>v?(_.wins++,_.points+=2):v>y&&(_.losses++,_.points+=1)),x&&(x.points_for+=v,x.points_against+=y,v>y?(x.wins++,x.points+=2):y>v&&(x.losses++,x.points+=1))}));const u=Array.from(l.values()).sort((d,y)=>d.final_position&&y.final_position?d.final_position-y.final_position:d.final_position?-1:y.final_position?1:y.points!==d.points?y.points-d.points:y.points_for-y.points_against-(d.points_for-d.points_against));let h=[];const{data:f}=await q.from("player_accounts").select("phone_number, name").eq("user_id",t).maybeSingle();if(f){const d=f.phone_number,y=f.name,[v,_]=await Promise.all([d?q.from("players").select("id").eq("phone_number",d):{data:[]},y?q.from("players").select("id").ilike("name",y):{data:[]}]),x=new Set;[v.data||[],_.data||[]].flat().forEach(p=>x.add(p.id));const g=Array.from(x);if(g.length>0){const p=g.map(T=>`player1_id.eq.${T},player2_id.eq.${T}`).join(","),{data:m}=await q.from("teams").select("id").or(p),w=(m||[]).map(T=>T.id),b=w.length>0?`team1_id.in.(${w.join(",")}),team2_id.in.(${w.join(",")})`:"",S=g.map(T=>`player1_individual_id.eq.${T},player2_individual_id.eq.${T},player3_individual_id.eq.${T},player4_individual_id.eq.${T}`).join(","),N=[b,S].filter(T=>T.length>0).join(",");if(N){const{data:T}=await q.from("matches").select(`
            id, court, scheduled_time, team1_score_set1, team2_score_set1, team1_score_set2, team2_score_set2, team1_score_set3, team2_score_set3, status, round, team1_id, team2_id,
            team1:teams!matches_team1_id_fkey(id, name), team2:teams!matches_team2_id_fkey(id, name),
            p1:players!matches_player1_individual_id_fkey(id, name), p2:players!matches_player2_individual_id_fkey(id, name),
            p3:players!matches_player3_individual_id_fkey(id, name), p4:players!matches_player4_individual_id_fkey(id, name)
          `).eq("tournament_id",e).or(N).order("scheduled_time",{ascending:!0});T&&(h=T.map(C=>{var M,P,E,A,L,K,J;const k=C.p1||C.p2||C.p3||C.p4,$=k?`${((M=C.p1)==null?void 0:M.name)||"TBD"}${C.p2?" / "+C.p2.name:""}`:((P=C.team1)==null?void 0:P.name)||"TBD",V=k?`${((E=C.p3)==null?void 0:E.name)||"TBD"}${C.p4?" / "+C.p4.name:""}`:((A=C.team2)==null?void 0:A.name)||"TBD",F=[(C.team1_score_set1||0)>(C.team2_score_set1||0)?1:0,(C.team1_score_set2||0)>(C.team2_score_set2||0)?1:0,(C.team1_score_set3||0)>(C.team2_score_set3||0)?1:0].reduce((O,se)=>O+se,0),Q=[(C.team2_score_set1||0)>(C.team1_score_set1||0)?1:0,(C.team2_score_set2||0)>(C.team1_score_set2||0)?1:0,(C.team2_score_set3||0)>(C.team1_score_set3||0)?1:0].reduce((O,se)=>O+se,0);let H;return C.status==="completed"&&(F>0||Q>0)&&(H=(k?g.includes((L=C.p1)==null?void 0:L.id)||g.includes((K=C.p2)==null?void 0:K.id):w.includes((J=C.team1)==null?void 0:J.id))?F>Q:Q>F),{id:C.id,court:C.court||"",scheduled_time:C.scheduled_time||"",team1_name:$,team2_name:V,team1_score:F,team2_score:Q,status:C.status,round:C.round||"",is_winner:H}}))}}}return{standings:u,myMatches:h,tournamentName:n}}const Oo=Object.freeze(Object.defineProperty({__proto__:null,fetchLeagueFullStandings:w0,fetchPlayerDashboardData:yr,fetchTournamentStandingsAndMatches:x0},Symbol.toStringTag,{value:"Module"}));/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var k0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),te=(e,t)=>{const n=B.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:l,...u},h)=>B.createElement("svg",{ref:h,...k0,width:s,height:s,stroke:r,strokeWidth:a?Number(i)*24/Number(s):i,className:["lucide",`lucide-${S0(e)}`,o].join(" "),...u},[...t.map(([f,d])=>B.createElement(f,d)),...Array.isArray(l)?l:[l]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=te("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=te("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=te("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=te("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=te("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=te("Gamepad2",[["line",{x1:"6",x2:"10",y1:"11",y2:"11",key:"1gktln"}],["line",{x1:"8",x2:"8",y1:"9",y2:"13",key:"qnk9ow"}],["line",{x1:"15",x2:"15.01",y1:"12",y2:"12",key:"krot7o"}],["line",{x1:"18",x2:"18.01",y1:"10",y2:"10",key:"1lcuu1"}],["path",{d:"M17.32 5H6.68a4 4 0 0 0-3.978 3.59c-.006.052-.01.101-.017.152C2.604 9.416 2 14.456 2 16a3 3 0 0 0 3 3c1 0 1.5-.5 2-1l1.414-1.414A2 2 0 0 1 9.828 16h4.344a2 2 0 0 1 1.414.586L17 18c.5.5 1 1 2 1a3 3 0 0 0 3-3c0-1.545-.604-6.584-.685-7.258-.007-.05-.011-.1-.017-.151A4 4 0 0 0 17.32 5z",key:"mfqc10"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=te("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=te("GraduationCap",[["path",{d:"M22 10v6M2 10l10-5 10 5-10 5z",key:"1ef52a"}],["path",{d:"M6 12v5c3 3 9 3 12 0v-5",key:"1f75yj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=te("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=te("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I0=te("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=te("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=te("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=te("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=te("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=te("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=te("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);async function F0(){const{data:e}=await q.from("clubs").select("id, name, description, logo_url, address, city, country, phone, email, website").order("name",{ascending:!0});return e||[]}async function V0(e){const{data:t}=await q.from("clubs").select("id, name, description, logo_url, address, city, country, phone, email, website").eq("id",e).maybeSingle();return t}async function q0(e){const t=new Date().toISOString().split("T")[0];let n=q.from("tournaments").select("id, name, start_date, end_date, status, image_url, club_id").gte("end_date",t).in("status",["draft","active"]).order("start_date",{ascending:!0}).limit(20);e&&(n=n.eq("club_id",e));const{data:r}=await n;return r||[]}function W0(){var k;const[e,t]=B.useState(!1),[n,r]=B.useState(null),[s,i]=B.useState("home"),[a,o]=B.useState(!0),[l,u]=B.useState(""),[h,f]=B.useState(""),[d,y]=B.useState(!1),[v,_]=B.useState(""),[x,g]=B.useState(!1),[p,m]=B.useState(null);B.useEffect(()=>{w()},[]);const w=async()=>{o(!0);const{data:{session:$}}=await q.auth.getSession();if($!=null&&$.user){const{data:F}=await q.from("player_accounts").select("*").eq("user_id",$.user.id).maybeSingle();if(F){r(F),t(!0);const Q=await yr($.user.id);m(Q),o(!1);return}}const V=localStorage.getItem("padel_one_player_phone");if(V){const{data:F}=await q.from("player_accounts").select("*").eq("phone_number",V).maybeSingle();if(F&&(r(F),t(!0),F.user_id)){const Q=await yr(F.user_id);m(Q)}}o(!1)},b=async()=>{const{data:{session:$}}=await q.auth.getSession();if($!=null&&$.user){const V=await yr($.user.id);m(V)}},S=async $=>{if(!(n!=null&&n.id))return;const{data:V}=await q.from("player_accounts").update({favorite_club_id:$}).eq("id",n.id).select().single();V&&r({...n,...V}),$!=null?localStorage.setItem("padel_one_player_favorite_club_id",$):localStorage.removeItem("padel_one_player_favorite_club_id")},N=async()=>{var $;_(""),g(!0);try{let V=null,F=l.trim().replace(/\s+/g,"");F.startsWith("+")||(F="+351"+F),console.log("[LOGIN] Procurando telefone via Edge Function:",F);const Q=await fetch("https://rqiwnxcexsccguruiteq.supabase.co/functions/v1/get-player-login-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJxaXdueGNleHNjY2d1cnVpdGVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk3Njc5MzcsImV4cCI6MjA3NTM0MzkzN30.Dl05zPQDtPVpmvn_Y-JokT3wDq0Oh9uF3op5xcHZpkY"},body:JSON.stringify({phone_number:F})}),H=await Q.json();if(console.log("[LOGIN] Resposta da Edge Function:",H),!Q.ok||!(H!=null&&H.success)||!(H!=null&&H.email)){(H==null?void 0:H.error)==="Player account not found"?_("Telefone no encontrado"):(H==null?void 0:H.error)==="Player account has no email"?_("Conta sem email associado. Contacta o organizador."):_((H==null?void 0:H.error)||"Erro ao verificar telefone"),g(!1);return}const M=H.email;console.log("[LOGIN] Email obtido:",M);const{error:P,data:E}=await q.auth.signInWithPassword({email:M,password:h});if(P){console.log("[LOGIN] Erro de auth:",P),P.message.includes("Invalid login")?_("Password incorreta"):_("Erro ao fazer login: "+P.message),g(!1);return}if(console.log("[LOGIN] Login com sucesso! User:",($=E==null?void 0:E.user)==null?void 0:$.id),E!=null&&E.user){const{data:A}=await q.from("player_accounts").select("*").eq("user_id",E.user.id).maybeSingle();V=A,console.log("[LOGIN] Player account:",V)}if(localStorage.setItem("padel_one_player_phone",F),V&&(r(V),E!=null&&E.user)){const A=await yr(E.user.id);m(A)}t(!0)}catch(V){console.error("Login error:",V),_("Erro ao fazer login")}g(!1)},T=async()=>{await q.auth.signOut(),localStorage.removeItem("padel_one_player_phone"),r(null),t(!1),u(""),f("")};if(a)return c.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center animate-fade-in",children:[c.jsx("div",{className:"w-16 h-16 border-4 border-red-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),c.jsx("p",{className:"text-gray-500",children:"A carregar..."})]})});if(!e)return c.jsx(H0,{phone:l,setPhone:u,password:h,setPassword:f,showPassword:d,setShowPassword:y,error:v,isLoading:x,onLogin:N});const C=(p==null?void 0:p.playerName)||((k=n==null?void 0:n.name)==null?void 0:k.split(" ")[0])||"Jogador";return c.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[c.jsx("header",{className:"sticky top-0 z-40 glass-light",children:c.jsxs("div",{className:"px-4 py-3 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("img",{src:"/icon.png",alt:"Padel One",className:"w-10 h-10 rounded-xl shadow-sm"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Ol,"}),c.jsx("p",{className:"font-semibold text-gray-900",children:C})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("button",{className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors",children:c.jsx(U0,{className:"w-5 h-5"})}),c.jsxs("button",{className:"p-2 rounded-full bg-gray-100 text-gray-600 hover:bg-gray-200 transition-colors relative",children:[c.jsx(sf,{className:"w-5 h-5"}),c.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-600 rounded-full"})]})]})]})}),c.jsxs("main",{className:"px-4 py-4",children:[s==="home"&&c.jsx(Q0,{player:n,dashboardData:p,onRefresh:b,onOpenClub:()=>i("club"),onOpenCompete:()=>i("compete"),onOpenGames:()=>i("games")}),s==="games"&&c.jsx(Z0,{player:n,dashboardData:p,onRefresh:b}),s==="club"&&c.jsx(Y0,{favoriteClubId:(n==null?void 0:n.favorite_club_id)??null,onBack:()=>i("home")}),s==="compete"&&c.jsx(X0,{dashboardData:p,favoriteClubId:(n==null?void 0:n.favorite_club_id)??null,onBack:()=>i("home")}),s==="profile"&&c.jsx(ev,{player:n,onLogout:T,onSaveFavoriteClub:S})]}),c.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 safe-area-bottom z-50",children:c.jsxs("div",{className:"flex items-center justify-around py-2",children:[c.jsx(Ea,{icon:O0,label:"Incio",active:s==="home",onClick:()=>i("home")}),c.jsx(Ea,{icon:Qn,label:"Jogos",active:s==="games",onClick:()=>i("games")}),c.jsx(Ea,{icon:B0,label:"Perfil",active:s==="profile",onClick:()=>i("profile")})]})})]})}function Ea({icon:e,label:t,active:n,onClick:r}){return c.jsxs("button",{onClick:r,className:`flex flex-col items-center justify-center px-6 py-2 rounded-lg transition-all ${n?"text-red-600":"text-gray-400 hover:text-gray-600"}`,children:[c.jsx(e,{className:`w-6 h-6 ${n?"stroke-[2.5]":""}`}),c.jsx("span",{className:`text-xs mt-1 ${n?"font-semibold":""}`,children:t})]})}function H0({phone:e,setPhone:t,password:n,setPassword:r,showPassword:s,setShowPassword:i,error:a,isLoading:o,onLogin:l}){return c.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[c.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12",children:[c.jsx("div",{className:"mb-8 animate-fade-in",children:c.jsx("img",{src:"/icon.png",alt:"Padel One",className:"w-24 h-24 rounded-3xl shadow-xl"})}),c.jsxs("div",{className:"text-center mb-10 animate-slide-up",children:[c.jsxs("h1",{className:"text-4xl font-black text-gray-900 mb-2",children:["PADEL ",c.jsx("span",{className:"text-red-600",children:"ONE"})]}),c.jsx("p",{className:"text-gray-500",children:"A tua app de Padel"})]}),c.jsxs("div",{className:"w-full max-w-sm space-y-4 animate-slide-up",style:{animationDelay:"0.1s"},children:[a&&c.jsx("div",{className:"bg-red-50 border border-red-200 rounded-xl p-3 text-center",children:c.jsx("p",{className:"text-red-600 text-sm",children:a})}),c.jsxs("div",{className:"relative",children:[c.jsx(M0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:"tel",placeholder:"Nmero de telemvel",value:e,onChange:u=>t(u.target.value),className:"w-full pl-12 pr-4 py-4 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all"})]}),c.jsxs("div",{className:"relative",children:[c.jsx(P0,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),c.jsx("input",{type:s?"text":"password",placeholder:"Password",value:n,onChange:u=>r(u.target.value),onKeyDown:u=>u.key==="Enter"&&l(),className:"w-full pl-12 pr-12 py-4 bg-gray-50 border border-gray-200 rounded-xl text-gray-900 placeholder-gray-400 focus:outline-none focus:border-red-500 focus:ring-2 focus:ring-red-500/20 transition-all"}),c.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-4 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:s?c.jsx(b0,{className:"w-5 h-5"}):c.jsx(j0,{className:"w-5 h-5"})})]}),c.jsx("button",{onClick:l,disabled:o||!e||!n,className:"w-full py-4 btn-primary disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none flex items-center justify-center gap-2",children:o?c.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):c.jsxs(c.Fragment,{children:["Entrar",c.jsx(rn,{className:"w-5 h-5"})]})}),c.jsx("p",{className:"text-center text-gray-500 text-sm",children:"Introduz o teu nmero de telemvel e password"})]})]}),c.jsx("div",{className:"px-6 pb-8",children:c.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[c.jsx(ba,{icon:Qn,label:"Torneios"}),c.jsx(ba,{icon:Tl,label:"Reservas"}),c.jsx(ba,{icon:z0,label:"Rankings"})]})})]})}function ba({icon:e,label:t}){return c.jsxs("div",{className:"card p-3 text-center",children:[c.jsx(e,{className:"w-6 h-6 text-red-600 mx-auto mb-1"}),c.jsx("p",{className:"text-xs text-gray-600",children:t})]})}function Ks(e){const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")}-${t.getFullYear()}`}function af(e){const t=new Date(e);return`${String(t.getDate()).padStart(2,"0")}-${String(t.getMonth()+1).padStart(2,"0")} ${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`}function Cc(e){const t=new Date(e),n=`${String(t.getDate()).padStart(2,"0")}/${String(t.getMonth()+1).padStart(2,"0")}/${t.getFullYear()}`,r=`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}`;return`${n} | ${r}`}function K0(e){if(!(e!=null&&e.trim()))return["?"];const t=e.split(/\s*\/\s*|\s*&\s*|,/).map(n=>n.trim()).filter(Boolean);return t.length>=1?t.slice(0,2):["?"]}function Ps(e){const t=e.trim();if(!t)return"?";const n=t.split(/\s+/).filter(Boolean);return n.length>=2?(n[0][0]+n[n.length-1][0]).toUpperCase().slice(0,2):t.slice(0,2).toUpperCase()}function dr({icon:e,label:t,color:n,onClick:r,emoji:s}){const i={lime:"bg-lime-400",blue:"bg-blue-400",amber:"bg-amber-400",purple:"bg-purple-400",emerald:"bg-emerald-400"};return c.jsxs("button",{type:"button",onClick:r,className:"action-btn",children:[c.jsx("div",{className:`action-btn-icon ${i[n]} flex items-center justify-center`,children:s?c.jsx("span",{className:"text-2xl",children:s}):c.jsx(e,{className:"w-6 h-6 text-white"})}),c.jsx("span",{className:"text-xs font-medium text-gray-700",children:t})]})}function G0(e){if(!(e!=null&&e.includes("-")))return null;const[t,n]=e.split("-").map(r=>r.trim());return t!=null&&n!=null?[t,n]:null}function Rs(e){const t=K0(e),n=t[0]||"?",r=t[1]||"?";return[n,r]}function Po({match:e}){const t=e.player1_name??Rs(e.team1_name)[0],n=e.player2_name??Rs(e.team1_name)[1],r=e.player3_name??Rs(e.team2_name)[0],s=e.player4_name??Rs(e.team2_name)[1],a=[e.set1,e.set2,e.set3].filter(Boolean).map(G0),o=a.some(Boolean),l=!!(e.tournament_id&&e.tournament_name),u=a.map(y=>y?y[0]:"-"),h=a.map(y=>y?y[1]:"-"),f=e.status==="completed"&&e.score1!=null&&e.score2!=null&&e.score1>e.score2,d=e.status==="completed"&&e.score1!=null&&e.score2!=null&&e.score2>e.score1;return c.jsx("div",{className:"flex-shrink-0 w-[280px] sm:w-[300px] rounded-2xl bg-white border border-gray-100 shadow-md overflow-hidden",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[c.jsx("span",{className:"text-xs font-medium text-gray-500",children:e.start_time?Cc(e.start_time):"-"}),l&&c.jsxs("span",{className:"flex items-center gap-1 text-amber-600",title:e.tournament_name,children:[c.jsx(Qn,{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:"text-xs font-medium truncate max-w-[120px]",children:e.tournament_name})]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0 w-[120px] flex-shrink-0 items-start",children:[c.jsxs("div",{className:"flex flex-col items-center min-h-[52px]",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-orange-400 flex items-center justify-center text-xl font-bold text-white shadow-sm flex-shrink-0",title:t,children:Ps(t)}),c.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[60px] mt-0.5 text-center line-clamp-2 min-h-[24px]",title:t,children:t})]}),c.jsxs("div",{className:"flex flex-col items-center min-h-[52px]",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-orange-400 flex items-center justify-center text-xl font-bold text-white shadow-sm flex-shrink-0",title:n,children:Ps(n)}),c.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[60px] mt-0.5 text-center line-clamp-2 min-h-[24px]",title:n,children:n})]})]}),e.status==="completed"&&(o||e.score1!=null)&&c.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[f&&c.jsx("span",{className:"w-7 h-7 rounded-full bg-sky-100 flex items-center justify-center text-sm flex-shrink-0",title:"Equipa vencedora",children:""}),c.jsx("span",{className:f?"text-2xl font-bold text-gray-900":"text-2xl font-medium text-gray-400",children:o?u.join(" "):e.score1})]})]}),c.jsx("div",{className:"border-t border-gray-200/60 my-2"}),c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-0 w-[120px] flex-shrink-0 items-start",children:[c.jsxs("div",{className:"flex flex-col items-center min-h-[52px]",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-sky-200 flex items-center justify-center text-xl font-bold text-sky-800 shadow-sm flex-shrink-0",title:r,children:Ps(r)}),c.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[60px] mt-0.5 text-center line-clamp-2 min-h-[24px]",title:r,children:r})]}),c.jsxs("div",{className:"flex flex-col items-center min-h-[52px]",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-sky-200 flex items-center justify-center text-xl font-bold text-sky-800 shadow-sm flex-shrink-0",title:s,children:Ps(s)}),c.jsx("span",{className:"text-[10px] text-gray-600 truncate max-w-[60px] mt-0.5 text-center line-clamp-2 min-h-[24px]",title:s,children:s})]})]}),e.status==="completed"&&(o||e.score1!=null)&&c.jsxs("div",{className:"flex items-center gap-1.5 flex-shrink-0",children:[d&&c.jsx("span",{className:"w-7 h-7 rounded-full bg-sky-100 flex items-center justify-center text-sm flex-shrink-0",title:"Equipa vencedora",children:""}),c.jsx("span",{className:d?"text-2xl font-bold text-gray-900":"text-2xl font-medium text-gray-400",children:o?h.join(" "):e.score2})]})]}),e.status!=="completed"&&c.jsxs("div",{className:"text-xs text-gray-500 text-center mt-1",children:[e.start_time?Cc(e.start_time).split(" | ")[1]:"",e.court?`  C.${e.court}`:""]})]})]})})}function J0({tournament:e,onViewStandings:t}){return c.jsx("div",{className:"card overflow-hidden",children:c.jsxs("div",{className:"p-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-semibold text-gray-900 line-clamp-1",children:e.name}),c.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-500",children:[c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx(Tl,{className:"w-4 h-4"}),Ks(e.start_date)]}),e.enrolled_count!==void 0&&c.jsxs("span",{className:"text-xs text-red-600",children:[e.enrolled_count," inscritos"]})]})]}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${e.status==="active"||e.status==="in_progress"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:e.status==="active"||e.status==="in_progress"?"Em curso":e.status})]}),t&&c.jsx("button",{onClick:t,className:"w-full mt-3 py-2 btn-secondary text-sm font-medium",children:"Ver classificao"})]})})}function Q0({player:e,dashboardData:t,onRefresh:n,onOpenClub:r,onOpenCompete:s}){var b,S,N,T,C,k,$,V,F,Q,H;const[i,a]=B.useState(null),[o,l]=B.useState(null),[u,h]=B.useState("standings"),f=t,d=(f==null?void 0:f.playerName)||((b=e==null?void 0:e.name)==null?void 0:b.split(" ")[0])||"Jogador",y=(f==null?void 0:f.stats.wins)??(e==null?void 0:e.wins)??0,v=((N=(S=f==null?void 0:f.leagueStandings)==null?void 0:S[0])==null?void 0:N.points)??(e==null?void 0:e.points)??0,_=(f==null?void 0:f.upcomingMatches)??[],x=(f==null?void 0:f.upcomingTournaments)??[],g=async(M,P)=>{const{fetchTournamentStandingsAndMatches:E}=await Nr(async()=>{const{fetchTournamentStandingsAndMatches:se}=await Promise.resolve().then(()=>Oo);return{fetchTournamentStandingsAndMatches:se}},void 0),{supabase:A}=await Nr(async()=>{const{supabase:se}=await Promise.resolve().then(()=>rf);return{supabase:se}},void 0),{data:{session:L}}=await A.auth.getSession();if(!(L!=null&&L.user))return;const{standings:K,myMatches:J,tournamentName:O}=await E(M,L.user.id);a({id:M,name:P}),l({standings:K,myMatches:J,name:O||P}),h("standings")},p=((T=f==null?void 0:f.stats)==null?void 0:T.totalMatches)??0,m=((C=f==null?void 0:f.stats)==null?void 0:C.winRate)??0,w=(($=(k=f==null?void 0:f.leagueStandings)==null?void 0:k[0])==null?void 0:$.points)??v;return c.jsxs("div",{className:"space-y-6 animate-fade-in",children:[c.jsxs("div",{className:"grid grid-cols-5 gap-3",children:[c.jsx(dr,{icon:Tl,label:"Reservar",color:"lime"}),c.jsx(dr,{icon:xi,label:"Clube Favorito",color:"blue",onClick:r}),c.jsx(dr,{icon:Qn,label:"Competir",color:"amber",onClick:s}),c.jsx(dr,{icon:N0,label:"Encontrar Jogo",color:"purple",emoji:""}),c.jsx(dr,{icon:C0,label:"Aprender",color:"emerald"})]}),c.jsx("div",{className:"card-stats-premium p-5 sm:p-6",children:c.jsxs("div",{className:"flex items-start gap-5 sm:gap-6 relative z-10",children:[c.jsxs("div",{className:"relative flex-shrink-0",children:[e!=null&&e.avatar_url?c.jsx("img",{src:e.avatar_url,alt:"Avatar",className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full object-cover border-4 border-white shadow-lg ring-2 ring-red-100"}):c.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 rounded-full bg-gradient-padel flex items-center justify-center shadow-lg ring-2 ring-red-100",children:c.jsx("span",{className:"text-white font-bold text-2xl sm:text-3xl",children:((F=(V=e==null?void 0:e.name)==null?void 0:V.charAt(0))==null?void 0:F.toUpperCase())||"P"})}),c.jsxs("span",{className:"level-badge absolute -bottom-0.5 left-1/2 -translate-x-1/2 text-xs sm:text-sm px-2.5 py-1 shadow",children:[" ",((Q=e==null?void 0:e.level)==null?void 0:Q.toFixed(1))||"3.0"]})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-bold text-lg sm:text-xl text-gray-900",children:(e==null?void 0:e.name)||d}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3 mt-4 items-start",children:[c.jsxs("div",{className:"stat-tile p-3 flex flex-col items-center",children:[c.jsx("span",{className:"stat-emoji h-8 flex items-center justify-center mb-1",children:""}),c.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center",children:p}),c.jsx("span",{className:"text-xs text-gray-500 font-medium text-center leading-tight",children:"Jogos"})]}),c.jsxs("div",{className:"stat-tile p-3 flex flex-col items-center",children:[c.jsx("span",{className:"stat-emoji h-8 flex items-center justify-center mb-1",children:""}),c.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center",children:y}),c.jsx("span",{className:"text-xs text-gray-500 font-medium text-center leading-tight",children:"Vitrias"})]}),c.jsxs("div",{className:"stat-tile p-3 flex flex-col items-center",children:[c.jsx("span",{className:"stat-emoji h-8 flex items-center justify-center mb-1",children:""}),c.jsxs("span",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center",children:[m,"%"]}),c.jsx("span",{className:"text-xs text-gray-500 font-medium text-center leading-tight",children:"Taxa vitria"})]}),c.jsxs("div",{className:"stat-tile p-3 flex flex-col items-center",children:[c.jsx("span",{className:"stat-emoji h-8 flex items-center justify-center mb-1",children:""}),c.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900 text-center",children:((H=e==null?void 0:e.level)==null?void 0:H.toFixed(1))||"3.0"}),c.jsx("span",{className:"text-xs text-gray-500 font-medium text-center leading-tight",children:"Nvel"})]}),c.jsxs("div",{className:"stat-tile p-3 col-span-2 sm:col-span-1 flex flex-col items-center",children:[c.jsx("span",{className:"stat-emoji h-8 flex items-center justify-center mb-1",children:""}),c.jsx("span",{className:"text-lg sm:text-xl font-bold text-amber-600 text-center",children:w}),c.jsx("span",{className:"text-xs text-gray-500 font-medium text-center leading-tight",children:"Pontos reward"})]})]})]})]})}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{children:""})," Prximos Jogos"]}),c.jsxs("button",{onClick:onOpenGames,className:"text-red-600 text-sm font-medium flex items-center gap-1",children:["Ver todos ",c.jsx(rn,{className:"w-4 h-4"})]})]}),_.length>0?c.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 snap-x snap-mandatory scroll-smooth games-horizontal-scroll",children:c.jsx("div",{className:"flex gap-4",style:{width:"max-content"},children:_.map(M=>c.jsx("div",{className:"snap-center",children:c.jsx(Po,{match:M})},M.id))})}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("span",{className:"text-4xl mb-2 block",children:""}),c.jsx("p",{className:"text-gray-700 font-medium",children:"Sem jogos agendados"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Inscreve-te num torneio e entra na ao "})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{children:""})," Os Meus Torneios"]}),c.jsxs("button",{onClick:s,className:"text-red-600 text-sm font-medium flex items-center gap-1",children:["Ver todos ",c.jsx(rn,{className:"w-4 h-4"})]})]}),c.jsx("div",{className:"space-y-3",children:x.length>0?x.slice(0,3).map(M=>c.jsx(J0,{tournament:M,onViewStandings:()=>g(M.id,M.name)},M.id)):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("span",{className:"text-4xl mb-2 block",children:""}),c.jsx("p",{className:"text-gray-700 font-medium",children:"Nenhum torneio em que estejas inscrito"}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Entra na Padel One Tour e compete "})]})})]}),f&&f.recentMatches.length>0&&c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h2",{className:"text-lg font-bold text-gray-900 flex items-center gap-2",children:[c.jsx("span",{children:""})," Resultados Recentes"]}),c.jsxs("button",{onClick:onOpenGames,className:"text-red-600 text-sm font-medium flex items-center gap-1",children:["Ver todos ",c.jsx(rn,{className:"w-4 h-4"})]})]}),c.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 snap-x snap-mandatory scroll-smooth games-horizontal-scroll",children:c.jsx("div",{className:"flex gap-4",style:{width:"max-content"},children:f.recentMatches.map(M=>c.jsx("div",{className:"snap-center",children:c.jsx(Po,{match:M})},M.id))})})]}),i&&o&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[85vh] overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-bold",children:o.name}),c.jsx("button",{onClick:()=>{a(null),l(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>h("standings"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${u==="standings"?"bg-red-600 text-white":"bg-gray-100 text-gray-600"}`,children:"Classificao"}),c.jsxs("button",{onClick:()=>h("matches"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${u==="matches"?"bg-red-600 text-white":"bg-gray-100 text-gray-600"}`,children:["Os Meus Jogos (",o.myMatches.length,")"]})]})]}),c.jsxs("div",{className:"overflow-y-auto max-h-[70vh]",children:[u==="standings"&&c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left",children:"#"}),c.jsx("th",{className:"px-3 py-2 text-left",children:"Nome"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"V"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"D"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"Pts"})]})}),c.jsx("tbody",{children:o.standings.map((M,P)=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"px-3 py-2",children:P+1}),c.jsx("td",{className:"px-3 py-2 font-medium",children:M.name}),c.jsx("td",{className:"px-3 py-2 text-center text-green-600",children:M.wins}),c.jsx("td",{className:"px-3 py-2 text-center text-red-500",children:M.losses}),c.jsx("td",{className:"px-3 py-2 text-center font-bold",children:M.points})]},M.id))})]}),u==="matches"&&c.jsx("div",{className:"divide-y",children:o.myMatches.length===0?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"Sem jogos registados"}):o.myMatches.map(M=>c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:M.team1_name}),c.jsx("p",{className:"text-sm text-gray-500",children:"vs"}),c.jsx("p",{className:"font-medium text-gray-900",children:M.team2_name})]}),c.jsxs("div",{className:"text-right",children:[M.status==="completed"?c.jsxs("span",{className:"text-lg font-bold",children:[M.team1_score," - ",M.team2_score]}):c.jsx("span",{className:"text-sm text-gray-500",children:af(M.scheduled_time)}),M.is_winner!==void 0&&c.jsx("span",{className:`block text-xs mt-1 ${M.is_winner?"text-green-600":"text-red-600"}`,children:M.is_winner?"Vitria":"Derrota"})]})]})},M.id))})]})]})})]})}function Y0({favoriteClubId:e,onBack:t}){const[n,r]=B.useState(null),[s,i]=B.useState(!0);return B.useEffect(()=>{let a=!1;const o=e||localStorage.getItem("padel_one_player_favorite_club_id");if(!o){r(null),i(!1);return}return V0(o).then(l=>{a||(r(l??null),i(!1))}).catch(()=>{a||i(!1)}),()=>{a=!0}},[e]),s?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[c.jsx(Hs,{className:"w-5 h-5"})," Voltar"]}),c.jsx("div",{className:"flex items-center justify-center py-12",children:c.jsx("div",{className:"w-10 h-10 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})})]}):n?c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[c.jsx(Hs,{className:"w-5 h-5"})," Voltar"]}),c.jsxs("div",{className:"card overflow-hidden",children:[n.logo_url&&c.jsx("img",{src:n.logo_url,alt:n.name,className:"w-full h-40 object-cover object-center"}),c.jsxs("div",{className:"p-5",children:[c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:n.name}),n.description&&c.jsx("p",{className:"text-gray-600 mt-2 text-sm leading-relaxed",children:n.description}),c.jsxs("div",{className:"mt-4 space-y-2",children:[n.address&&c.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600",children:[c.jsx(I0,{className:"w-4 h-4 mt-0.5 shrink-0"}),c.jsxs("span",{children:[n.address,n.city?`, ${n.city}`:"",n.country?`, ${n.country}`:""]})]}),n.phone&&c.jsxs("a",{href:`tel:${n.phone}`,className:"flex items-center gap-2 text-sm text-red-600 hover:underline",children:[c.jsx(L0,{className:"w-4 h-4"})," ",n.phone]}),n.email&&c.jsxs("a",{href:`mailto:${n.email}`,className:"flex items-center gap-2 text-sm text-red-600 hover:underline",children:[c.jsx(A0,{className:"w-4 h-4"})," ",n.email]}),n.website&&c.jsxs("a",{href:n.website.startsWith("http")?n.website:`https://${n.website}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-sm text-red-600 hover:underline",children:[c.jsx(T0,{className:"w-4 h-4"})," ",n.website]})]})]})]})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[c.jsx(Hs,{className:"w-5 h-5"})," Voltar"]}),c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(xi,{className:"w-16 h-16 text-gray-300 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500",children:"Ainda no escolheste o teu clube."}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Vai ao Perfil e escolhe o teu clube favorito na lista de clubes Padel One."})]})]})}function X0({dashboardData:e,favoriteClubId:t,onBack:n}){var N,T,C;const[r,s]=B.useState("upcoming"),[i,a]=B.useState([]),[o,l]=B.useState(!0),[u,h]=B.useState(null),[f,d]=B.useState([]),[y,v]=B.useState(null),[_,x]=B.useState(null),[g,p]=B.useState("standings"),m=e,w=(m==null?void 0:m.playerName)??"";B.useEffect(()=>{let k=!1;const $=t||localStorage.getItem("padel_one_player_favorite_club_id");return q0($||void 0).then(V=>{k||(a(V),l(!1))}).catch(()=>{k||l(!1)}),()=>{k=!0}},[t]);const b=async(k,$)=>{const{fetchLeagueFullStandings:V}=await Nr(async()=>{const{fetchLeagueFullStandings:Q}=await Promise.resolve().then(()=>Oo);return{fetchLeagueFullStandings:Q}},void 0),F=await V(k,w);h({id:k,name:$}),d(F)},S=async(k,$)=>{const{fetchTournamentStandingsAndMatches:V}=await Nr(async()=>{const{fetchTournamentStandingsAndMatches:E}=await Promise.resolve().then(()=>Oo);return{fetchTournamentStandingsAndMatches:E}},void 0),{supabase:F}=await Nr(async()=>{const{supabase:E}=await Promise.resolve().then(()=>rf);return{supabase:E}},void 0),{data:{session:Q}}=await F.auth.getSession();if(!(Q!=null&&Q.user))return;const{standings:H,myMatches:M,tournamentName:P}=await V(k,Q.user.id);v({id:k,name:$}),x({standings:H,myMatches:M,name:P||$}),p("standings")};return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("button",{onClick:n,className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[c.jsx(Hs,{className:"w-5 h-5"})," Voltar"]}),c.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Competir"}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-xl",children:[c.jsx("button",{onClick:()=>s("upcoming"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${r==="upcoming"?"bg-red-600 text-white":"text-gray-600"}`,children:"Prximos torneios"}),c.jsx("button",{onClick:()=>s("mine"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${r==="mine"?"bg-red-600 text-white":"text-gray-600"}`,children:"Os seus Torneios/Ligas"})]}),r==="upcoming"&&c.jsx("div",{className:"space-y-3",children:o?c.jsx("div",{className:"flex justify-center py-8",children:c.jsx("div",{className:"w-8 h-8 border-2 border-red-600 border-t-transparent rounded-full animate-spin"})}):i.length>0?i.map(k=>c.jsxs("div",{className:"card p-4",children:[c.jsxs("div",{className:"flex items-start justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.name}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:Ks(k.start_date)})]}),c.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium ${k.status==="active"?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:k.status==="active"?"Aberto":k.status})]}),c.jsx("p",{className:"text-xs text-gray-400 mt-2",children:"Inscries na Padel One Tour"})]},k.id)):c.jsx("div",{className:"card p-6 text-center text-gray-500",children:"Nenhum torneio prximo do clube. Consulta a Padel One Tour para mais torneios."})}),r==="mine"&&c.jsxs("div",{className:"space-y-4",children:[(m==null?void 0:m.upcomingTournaments)&&m.upcomingTournaments.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Os seus torneios (prximos)"}),c.jsx("div",{className:"space-y-2",children:m.upcomingTournaments.map(k=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.name}),c.jsx("p",{className:"text-sm text-gray-500",children:Ks(k.start_date)})]}),c.jsx("button",{onClick:()=>S(k.id,k.name),className:"text-red-600 text-sm font-medium",children:"Ver classificao"})]},k.id))})]}),(m==null?void 0:m.pastTournaments)&&m.pastTournaments.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Os seus torneios (histrico)"}),c.jsx("div",{className:"space-y-2",children:m.pastTournaments.map(k=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.name}),c.jsx("p",{className:"text-sm text-gray-500",children:Ks(k.start_date)})]}),c.jsxs("button",{onClick:()=>S(k.id,k.name),className:"text-red-600 text-sm font-medium flex items-center gap-1",children:[c.jsx(Qn,{className:"w-4 h-4"})," Ver classificao"]})]},k.id))})]}),(m==null?void 0:m.leagueStandings)&&m.leagueStandings.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Classificao nas Ligas"}),c.jsx("div",{className:"space-y-2",children:m.leagueStandings.map((k,$)=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900",children:k.league_name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[k.position," de ",k.total_participants,"  ",k.points," pts"]})]}),c.jsxs("button",{onClick:()=>b(k.league_id,k.league_name),className:"text-red-600 text-sm font-medium flex items-center gap-1",children:["Ver todos ",c.jsx(rn,{className:"w-4 h-4"})]})]},$))})]}),!((N=m==null?void 0:m.upcomingTournaments)!=null&&N.length)&&!((T=m==null?void 0:m.pastTournaments)!=null&&T.length)&&!((C=m==null?void 0:m.leagueStandings)!=null&&C.length)&&c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(Qn,{className:"w-16 h-16 text-gray-200 mx-auto mb-3"}),c.jsx("p",{className:"text-gray-500",children:"Ainda no tens torneios nem ligas."}),c.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Inscreve-te em torneios na Padel One Tour."})]})]}),u&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[80vh] overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b flex items-center justify-between",children:[c.jsx("h2",{className:"text-lg font-bold",children:u.name}),c.jsx("button",{onClick:()=>h(null),className:"text-gray-400 hover:text-gray-600",children:""})]}),c.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left",children:"#"}),c.jsx("th",{className:"px-3 py-2 text-left",children:"Nome"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"Pts"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"Torneios"})]})}),c.jsx("tbody",{children:f.map(k=>c.jsxs("tr",{className:`border-t ${k.is_current_player?"bg-red-50":""}`,children:[c.jsx("td",{className:"px-3 py-2",children:k.position}),c.jsxs("td",{className:"px-3 py-2 font-medium",children:[k.entity_name,k.is_current_player&&c.jsx("span",{className:"ml-1 text-xs bg-red-100 text-red-600 px-1.5 rounded",children:"Tu"})]}),c.jsx("td",{className:"px-3 py-2 text-center",children:k.total_points}),c.jsx("td",{className:"px-3 py-2 text-center",children:k.tournaments_played})]},k.position))})]})})]})}),y&&_&&c.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:c.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[85vh] overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"text-lg font-bold",children:_.name}),c.jsx("button",{onClick:()=>{v(null),x(null)},className:"text-gray-400 hover:text-gray-600",children:""})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>p("standings"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${g==="standings"?"bg-red-600 text-white":"bg-gray-100 text-gray-600"}`,children:"Classificao"}),c.jsxs("button",{onClick:()=>p("matches"),className:`flex-1 py-2 rounded-lg text-sm font-medium ${g==="matches"?"bg-red-600 text-white":"bg-gray-100 text-gray-600"}`,children:["Os Meus Jogos (",_.myMatches.length,")"]})]})]}),c.jsxs("div",{className:"overflow-y-auto max-h-[70vh]",children:[g==="standings"&&c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"bg-gray-50 sticky top-0",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-3 py-2 text-left",children:"#"}),c.jsx("th",{className:"px-3 py-2 text-left",children:"Nome"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"V"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"D"}),c.jsx("th",{className:"px-3 py-2 text-center",children:"Pts"})]})}),c.jsx("tbody",{children:_.standings.map((k,$)=>c.jsxs("tr",{className:"border-t",children:[c.jsx("td",{className:"px-3 py-2",children:$+1}),c.jsx("td",{className:"px-3 py-2 font-medium",children:k.name}),c.jsx("td",{className:"px-3 py-2 text-center text-green-600",children:k.wins}),c.jsx("td",{className:"px-3 py-2 text-center text-red-500",children:k.losses}),c.jsx("td",{className:"px-3 py-2 text-center font-bold",children:k.points})]},k.id))})]}),g==="matches"&&c.jsx("div",{className:"divide-y",children:_.myMatches.length===0?c.jsx("div",{className:"p-6 text-center text-gray-500",children:"Sem jogos registados"}):_.myMatches.map(k=>c.jsx("div",{className:"p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium text-gray-900",children:k.team1_name}),c.jsx("p",{className:"text-sm text-gray-500",children:"vs"}),c.jsx("p",{className:"font-medium text-gray-900",children:k.team2_name})]}),c.jsxs("div",{className:"text-right",children:[k.status==="completed"?c.jsxs("span",{className:"text-lg font-bold",children:[k.team1_score," - ",k.team2_score]}):c.jsx("span",{className:"text-sm text-gray-500",children:af(k.scheduled_time)}),k.is_winner!==void 0&&c.jsx("span",{className:`block text-xs mt-1 ${k.is_winner?"text-green-600":"text-red-600"}`,children:k.is_winner?"Vitria":"Derrota"})]})]})},k.id))})]})]})})]})}function Z0({player:e,dashboardData:t,onRefresh:n}){const[r,s]=B.useState("upcoming"),i=t,a=(i==null?void 0:i.upcomingMatches)??[],o=(i==null?void 0:i.recentMatches)??[],l=r==="upcoming"?a:o;return c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Jogos"}),c.jsxs("button",{className:"text-red-600 text-sm font-medium flex items-center gap-1",children:["Ver tudo ",c.jsx(rn,{className:"w-4 h-4"})]})]}),c.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-xl",children:[c.jsx("button",{onClick:()=>s("upcoming"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${r==="upcoming"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:"Prximos"}),c.jsx("button",{onClick:()=>s("history"),className:`flex-1 py-2 px-4 rounded-lg text-sm font-medium transition-all ${r==="history"?"bg-white text-gray-900 shadow-sm":"text-gray-500"}`,children:"Histrico"})]}),l.length>0?c.jsx("div",{className:"overflow-x-auto pb-2 -mx-4 px-4 sm:mx-0 sm:px-0 snap-x snap-mandatory scroll-smooth games-horizontal-scroll",children:c.jsx("div",{className:"flex gap-4",style:{width:"max-content"},children:l.map(u=>c.jsx("div",{className:"snap-center",children:c.jsx(Po,{match:u})},u.id))})}):c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx("span",{className:"text-4xl mb-2 block",children:""}),c.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Sem jogos"}),c.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"Cria um jogo ou inscreve-te num torneio para comear"}),c.jsx("button",{className:"px-6 py-3 btn-primary",children:"Criar Jogo"})]})]})}function ev({player:e,onLogout:t,onSaveFavoriteClub:n}){var l,u,h,f;const[r,s]=B.useState([]),[i,a]=B.useState(!0),o=(e==null?void 0:e.favorite_club_id)??localStorage.getItem("padel_one_player_favorite_club_id");return B.useEffect(()=>{F0().then(d=>{s(d),a(!1)}).catch(()=>a(!1))},[]),c.jsxs("div",{className:"space-y-4 animate-fade-in",children:[c.jsxs("div",{className:"card p-6 text-center",children:[c.jsxs("div",{className:"relative inline-block",children:[e!=null&&e.avatar_url?c.jsx("img",{src:e.avatar_url,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-red-100 mx-auto"}):c.jsx("div",{className:"w-24 h-24 rounded-full bg-gradient-padel flex items-center justify-center mx-auto",children:c.jsx("span",{className:"text-3xl font-bold text-white",children:((u=(l=e==null?void 0:e.name)==null?void 0:l.charAt(0))==null?void 0:u.toUpperCase())||"P"})}),c.jsx("button",{className:"absolute bottom-0 right-0 w-8 h-8 bg-red-600 rounded-full flex items-center justify-center shadow-lg",children:c.jsx(E0,{className:"w-4 h-4 text-white"})})]}),c.jsx("h2",{className:"text-xl font-bold text-gray-900 mt-3",children:(e==null?void 0:e.name)||"Jogador"}),c.jsx("p",{className:"text-gray-500 text-sm",children:e==null?void 0:e.phone}),c.jsxs("div",{className:"inline-flex items-center gap-2 mt-3 px-4 py-2 bg-red-50 rounded-full",children:[c.jsx(Tc,{className:"w-4 h-4 text-red-600"}),c.jsxs("span",{className:"font-semibold text-red-600",children:["Nvel ",((h=e==null?void 0:e.level)==null?void 0:h.toFixed(1))||"3.0"]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-3 mt-4 pt-4 border-t border-gray-100",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-red-600",children:((f=e==null?void 0:e.level)==null?void 0:f.toFixed(1))||"3.0"}),c.jsx("p",{className:"text-xs text-gray-500",children:"Nvel"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(e==null?void 0:e.wins)||0}),c.jsx("p",{className:"text-xs text-gray-500",children:"Vitrias"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-2xl font-bold text-amber-500",children:(e==null?void 0:e.points)||0}),c.jsx("p",{className:"text-xs text-gray-500",children:"Pontos"})]})]})]}),c.jsxs("div",{className:"card overflow-hidden",children:[c.jsxs("div",{className:"p-4 border-b border-gray-100",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(xi,{className:"w-5 h-5 text-red-600"}),c.jsx("h3",{className:"font-semibold text-gray-900",children:"Clube Favorito"})]}),c.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Escolhe o teu clube na lista de clubes geridos pela Padel One."})]}),c.jsx("div",{className:"divide-y divide-gray-100 max-h-56 overflow-y-auto",children:i?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"A carregar clubes..."}):r.length===0?c.jsx("div",{className:"p-4 text-center text-gray-500",children:"Nenhum clube disponvel."}):c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>n(null),className:`w-full p-4 flex items-center justify-between text-left ${o?"hover:bg-gray-50":"bg-red-50"}`,children:[c.jsx("span",{className:"text-gray-600",children:"Nenhum"}),!o&&c.jsx("span",{className:"text-xs text-red-600 font-medium",children:""})]}),r.map(d=>c.jsxs("button",{onClick:()=>n(d.id),className:`w-full p-4 flex items-center gap-3 text-left ${o===d.id?"bg-red-50":"hover:bg-gray-50"}`,children:[d.logo_url?c.jsx("img",{src:d.logo_url,alt:"",className:"w-10 h-10 rounded-lg object-cover shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-200 flex items-center justify-center shrink-0",children:c.jsx(xi,{className:"w-5 h-5 text-gray-400"})}),c.jsx("span",{className:"font-medium text-gray-900 flex-1 truncate",children:d.name}),o===d.id&&c.jsx("span",{className:"text-xs text-red-600 font-medium",children:""})]},d.id))]})})]}),c.jsxs("div",{className:"card divide-y divide-gray-100",children:[c.jsx(As,{icon:$0,label:"Editar Perfil"}),c.jsx(As,{icon:Tc,label:"Preferncias de Jogo"}),c.jsx(As,{icon:sf,label:"Notificaes"}),c.jsx(As,{icon:D0,label:"Definies"})]}),c.jsxs("button",{onClick:t,className:"w-full card p-4 flex items-center gap-3 text-red-600 hover:bg-red-50 transition-colors",children:[c.jsx(R0,{className:"w-5 h-5"}),c.jsx("span",{className:"font-medium",children:"Terminar Sesso"})]})]})}function As({icon:e,label:t}){return c.jsxs("button",{className:"w-full p-4 flex items-center justify-between hover:bg-gray-50 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(e,{className:"w-5 h-5 text-gray-400"}),c.jsx("span",{className:"font-medium text-gray-900",children:t})]}),c.jsx(rn,{className:"w-5 h-5 text-gray-400"})]})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("[PWA] Service Worker registered:",e.scope)}).catch(e=>{console.log("[PWA] Service Worker registration failed:",e)})});ja.createRoot(document.getElementById("root")).render(c.jsx(Cf.StrictMode,{children:c.jsx(W0,{})}));
